{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/Sidebar-left.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  Home,\r\n  Hash,\r\n  Heart,\r\n  Clapperboard,\r\n  Bell,\r\n  User,\r\n  Upload,\r\n  MessageSquare,\r\n  Bookmark,\r\n  Activity,\r\n  Moon,\r\n  ChevronDown,\r\n  ChevronUp,\r\n} from \"lucide-react\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n\r\nconst COLORS = {\r\n  BACKGROUND_PRIMARY: \"bg-[#131313]\",\r\n  BACKGROUND_SECONDARY: \"bg-gray-800\",\r\n  BORDER_COLOR: \"border-gray-800\",\r\n  TEXT_PRIMARY: \"text-white\",\r\n  TEXT_SECONDARY: \"text-gray-300\",\r\n  TEXT_HEADER: \"text-gray-500\",\r\n  ACTIVE_ACCENT: \"border-white\",\r\n  ACTIVE_BACKGROUND: \"bg-gray-800\",\r\n};\r\n\r\nconst menuSections = [\r\n  {\r\n    title: \"MAIN MENU\",\r\n    links: [\r\n      { name: \"Home Page\", icon: Home, isActive: true },\r\n      { name: \"Trending Topics\", icon: Hash },\r\n      { name: \"Popular Creator\", icon: Heart },\r\n      { name: \"Reels\", icon: Clapperboard },\r\n      { name: \"Notification\", icon: Bell },\r\n    ],\r\n    defaultOpen: true,\r\n  },\r\n  {\r\n    title: \"MY MENU\",\r\n    links: [\r\n      { name: \"Profile\", icon: User },\r\n      { name: \"Shot Upload\", icon: Upload },\r\n      { name: \"Message\", icon: MessageSquare },\r\n    ],\r\n    defaultOpen: true,\r\n  },\r\n];\r\n\r\nconst MenuItem = ({ icon: Icon, name, isActive = false, onClick = () => {} }) => (\r\n  <div\r\n    onClick={onClick}\r\n    className={`flex items-center p-3 my-0.5 rounded-lg transition-colors cursor-pointer text-sm\r\n      ${\r\n        isActive\r\n          ? `${COLORS.ACTIVE_BACKGROUND} ${COLORS.TEXT_PRIMARY} font-semibold border-r-4 ${COLORS.ACTIVE_ACCENT}`\r\n          : `${COLORS.TEXT_SECONDARY} opacity-80 hover:${COLORS.BACKGROUND_SECONDARY}/50 hover:${COLORS.TEXT_PRIMARY}`\r\n      }`}\r\n  >\r\n    <Icon className=\"w-5 h-5 mr-3\" />\r\n    <span>{name}</span>\r\n  </div>\r\n);\r\n\r\nconst MenuSection = ({ section }) => {\r\n  const [isOpen, setIsOpen] = useState(section.defaultOpen);\r\n  const headerClasses = `flex items-center justify-between text-xs font-bold tracking-widest ${COLORS.TEXT_HEADER} uppercase cursor-pointer mb-2`;\r\n  const iconClasses = `w-3 h-3 ${COLORS.TEXT_HEADER}`;\r\n\r\n  return (\r\n    <div className=\"mb-6\">\r\n      <div className={headerClasses} onClick={() => setIsOpen(!isOpen)}>\r\n        {section.title}\r\n        {isOpen ? <ChevronUp className={iconClasses} /> : <ChevronDown className={iconClasses} />}\r\n      </div>\r\n      {isOpen && (\r\n        <nav>\r\n          {section.links.map((link, index) => (\r\n            <MenuItem key={index} {...link} />\r\n          ))}\r\n        </nav>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Sidebar = () => {\r\n  const [isDarkMode, setIsDarkMode] = useState(true);\r\n  const { user, logout } = useAuth();\r\n\r\n  // ✅ Get fallback avatar using Picsum if not provided\r\n  const avatarSrc =\r\n    user?.avatarUrl ||\r\n    `https://picsum.photos/200?random=${user?._id || Math.floor(Math.random() * 1000)}`;\r\n\r\n  return (\r\n    <aside\r\n      className={`w-64 h-screen ${COLORS.BACKGROUND_PRIMARY} ${COLORS.TEXT_PRIMARY} p-4 flex flex-col shadow-2xl rounded-xl border ${COLORS.BORDER_COLOR}`}\r\n    >\r\n      {/* Logo */}\r\n      <div className=\"flex items-center mb-8 pt-1\">\r\n        <h1 className={`text-3xl pl-1 font-serif italic ${COLORS.TEXT_PRIMARY}`}>DZINR-APP</h1>\r\n      </div>\r\n\r\n      {/* Menu Sections */}\r\n      <div className=\"flex-grow\">\r\n        {menuSections.map((section, index) => (\r\n          <MenuSection key={index} section={section} />\r\n        ))}\r\n      </div>\r\n\r\n      {/* ✅ Login or Profile */}\r\n      <div className=\"my-4 border-t border-gray-700 pt-4 flex justify-center\">\r\n        {user ? (\r\n          <div className=\"flex items-center space-x-3 cursor-pointer hover:bg-gray-700 px-4 py-2 rounded-lg transition-all w-full justify-between\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <img\r\n                src={avatarSrc}\r\n                alt=\"Profile\"\r\n                className=\"w-10 h-10 rounded-full border border-gray-600\"\r\n              />\r\n              <span className=\"font-medium text-white capitalize\">{user.name}</span>\r\n            </div>\r\n            <button\r\n              onClick={logout}\r\n              className=\"text-xs bg-red-600 hover:bg-red-700 text-white py-1 px-3 rounded-md\"\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <a\r\n            href=\"/auth/login\"\r\n            className=\"w-full bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-8 rounded-lg shadow-md transition-all duration-200 flex items-center justify-center\"\r\n          >\r\n            Login\r\n          </a>\r\n        )}\r\n      </div>\r\n\r\n      {/* Dark Mode Toggle */}\r\n      <div\r\n        className={`p-3 ${COLORS.BACKGROUND_SECONDARY} rounded-lg border ${COLORS.BORDER_COLOR} flex items-center justify-between shadow-inner`}\r\n      >\r\n        <div className={`flex items-center text-sm ${COLORS.TEXT_SECONDARY}`}>\r\n          <Moon className={`w-5 h-5 mr-3 ${COLORS.TEXT_PRIMARY}`} />\r\n          <span className={COLORS.TEXT_PRIMARY}>Dark Mode</span>\r\n        </div>\r\n        <label className=\"relative inline-flex items-center cursor-pointer\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={isDarkMode}\r\n            onChange={() => setIsDarkMode(!isDarkMode)}\r\n            className=\"sr-only peer\"\r\n          />\r\n          <div\r\n            className={`w-12 h-6 ${COLORS.BACKGROUND_SECONDARY} rounded-full peer-checked:bg-white transition-colors duration-300 shadow-md`}\r\n          ></div>\r\n          <div\r\n            className={`absolute top-0.5 left-[3px] w-5 h-5 rounded-full transition-transform duration-300 shadow-lg ${\r\n              isDarkMode ? \"translate-x-[20px] bg-black\" : \"translate-x-0 bg-white\"\r\n            }`}\r\n          ></div>\r\n        </label>\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"names":["c","_c","React","useState","Home","Hash","Heart","Clapperboard","Bell","User","Upload","MessageSquare","Bookmark","Activity","Moon","ChevronDown","ChevronUp","useAuth","COLORS","BACKGROUND_PRIMARY","BACKGROUND_SECONDARY","BORDER_COLOR","TEXT_PRIMARY","TEXT_SECONDARY","TEXT_HEADER","ACTIVE_ACCENT","ACTIVE_BACKGROUND","menuSections","title","links","name","icon","isActive","defaultOpen","MenuItem","t0","$","$i","Symbol","for","Icon","t1","onClick","t2","undefined","_temp","t3","t4","t5","t6","MenuSection","section","isOpen","setIsOpen","headerClasses","iconClasses","map","_temp2","Sidebar","isDarkMode","setIsDarkMode","user","logout","avatarSrc","avatarUrl","_id","Math","floor","random","_temp3","t7","t8","t9","t10","link","index"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 542, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/posts/PostContentModal.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { X, Image, Video, Smile } from \"lucide-react\";\r\nimport EmojiPicker, { EmojiClickData } from \"emoji-picker-react\";\r\nimport { useAuth } from \"@/context/AuthContext\"; \r\n\r\n// --- INTERFACES ---\r\ninterface MediaItem {\r\n  file: File;\r\n  preview: string;\r\n  type: \"image\" | \"video\";\r\n}\r\n\r\ninterface PostContentModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onPostSuccess?: () => void;\r\n  initialMedia?: MediaItem[];\r\n}\r\n\r\ninterface VideoUploadModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onNext: (videoFile: File | null, videoPreview: string | null) => void;\r\n}\r\n// --- END INTERFACES ---\r\n\r\n// --- VIDEO UPLOAD MODAL COMPONENT (Full Code) ---\r\nconst VideoUploadModal: React.FC<VideoUploadModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onNext,\r\n}) => {\r\n  const [videoFile, setVideoFile] = useState<File | null>(null);\r\n  const [videoPreview, setVideoPreview] = useState<string | null>(null);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleVideoSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      setVideoFile(e.target.files[0]);\r\n      setVideoPreview(URL.createObjectURL(e.target.files[0]));\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault();\r\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\r\n      setVideoFile(e.dataTransfer.files[0]);\r\n      setVideoPreview(URL.createObjectURL(e.dataTransfer.files[0]));\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    onNext(videoFile, videoPreview);\r\n    setVideoFile(null);\r\n    setVideoPreview(null);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white dark:bg-gray-800 p-6 rounded-lg w-full max-w-md relative\">\r\n        <button\r\n          className=\"absolute top-3 right-3 text-gray-500 dark:text-gray-300\"\r\n          onClick={() => {\r\n            if (videoPreview) URL.revokeObjectURL(videoPreview);\r\n            setVideoFile(null);\r\n            setVideoPreview(null);\r\n            onClose();\r\n          }}\r\n        >\r\n          <X className=\"w-5 h-5\" />\r\n        </button>\r\n\r\n        <h2 className=\"text-lg font-semibold mb-4 text-gray-900 dark:text-white\">\r\n          Attach Video\r\n        </h2>\r\n\r\n        <div\r\n          className=\"border-2 border-dashed border-gray-400 dark:border-gray-600 rounded-md p-6 text-center cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition duration-150\"\r\n          onDrop={handleDrop}\r\n          onDragOver={(e) => e.preventDefault()}\r\n        >\r\n          {videoPreview ? (\r\n            <video\r\n              src={videoPreview}\r\n              controls\r\n              className=\"w-full max-h-60 rounded-md\"\r\n            />\r\n          ) : (\r\n            <>\r\n              <p className=\"text-gray-700 dark:text-gray-200 mb-2\">\r\n                Drag & Drop your video here\r\n              </p>\r\n              <label className=\"text-blue-600 dark:text-blue-400 underline cursor-pointer\">\r\n                or select from your computer\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"video/*\"\r\n                  onChange={handleVideoSelect}\r\n                  className=\"hidden\"\r\n                />\r\n              </label>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          onClick={handleNext}\r\n          disabled={!videoFile}\r\n          className={`mt-4 w-full px-4 py-2 rounded-md font-semibold transition duration-150 ${\r\n            videoFile\r\n              ? \"bg-blue-600 text-white hover:bg-blue-700\"\r\n              : \"bg-gray-300 text-gray-500 cursor-not-allowed\"\r\n          }`}\r\n        >\r\n          Next\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n// --- END VIDEO UPLOAD MODAL COMPONENT ---\r\n\r\n\r\n// --- POST CONTENT MODAL COMPONENT (Full Code) ---\r\nconst PostContentModal: React.FC<PostContentModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onPostSuccess,\r\n  initialMedia,\r\n}) => {\r\n  // Now user includes the token\r\n  const { user } = useAuth(); \r\n  const [content, setContent] = useState(\"\");\r\n  const [media, setMedia] = useState<MediaItem[]>(initialMedia || []);\r\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\r\n  const [showVideoModal, setShowVideoModal] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  // Reset state when the modal opens/closes or initialMedia prop changes\r\n  useEffect(() => {\r\n    setMedia(initialMedia || []);\r\n    setContent(\"\");\r\n  }, [initialMedia, isOpen]); \r\n\r\n  // Separate useEffect for cleaning up Object URLs when media state changes or component unmounts\r\n  useEffect(() => {\r\n    return () => {\r\n      media.forEach(item => URL.revokeObjectURL(item.preview));\r\n    };\r\n  }, [media]); \r\n\r\n\r\n  const handleMediaSelect = (\r\n    e: React.ChangeEvent<HTMLInputElement>,\r\n    type: \"image\" | \"video\"\r\n  ) => {\r\n    if (!e.target.files) return;\r\n    const filesArray = Array.from(e.target.files).map((file) => ({\r\n      file,\r\n      preview: URL.createObjectURL(file),\r\n      type,\r\n    }));\r\n    setMedia((prev) => [...prev, ...filesArray]);\r\n    e.target.value = ''; // Reset file input\r\n  };\r\n\r\n  const handleRemoveMedia = (index: number) => {\r\n    const removed = media[index];\r\n    if (removed.preview) URL.revokeObjectURL(removed.preview);\r\n    setMedia((prev) => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleEmojiClick = (emojiData: EmojiClickData) => {\r\n    setContent((prev) => prev + emojiData.emoji);\r\n    setShowEmojiPicker(false);\r\n  };\r\n\r\n  const handleVideoNext = (file: File | null, preview: string | null) => {\r\n    if (!file || !preview) return;\r\n    setMedia((prev) => [...prev, { file, preview, type: \"video\" }]);\r\n  };\r\n\r\n  // Robust close handler that cleans up URLs and resets state\r\n  const handleClose = () => {\r\n    media.forEach(item => URL.revokeObjectURL(item.preview)); \r\n    setMedia([]); \r\n    setContent(\"\"); \r\n    onClose(); \r\n  };\r\n\r\n  const handlePostClick = async () => {\r\n    if (!content.trim() && media.length === 0) return;\r\n    setLoading(true);\r\n\r\n    // Check for user token\r\n    if (!user || !user.token) {\r\n        console.error(\"❌ Post failed: User is not authenticated or token is missing.\");\r\n        alert(\"Authentication failed. Please log in again.\");\r\n        setLoading(false);\r\n        return;\r\n    }\r\n    \r\n    let mediaCleanup: string[] = [];\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"text\", content);\r\n      \r\n      media.forEach((item) => {\r\n        // CRITICAL FIX: Use 'mediaFile' key to match the backend handler\r\n        formData.append(`mediaFile`, item.file); \r\n        formData.append(`mediaType`, item.type); \r\n        mediaCleanup.push(item.preview);\r\n      });\r\n\r\n      const res = await fetch(\"/api/posts\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`, // Token is definitely here now\r\n        },\r\n        body: formData,\r\n      });\r\n\r\n      if (!res.ok) {\r\n        throw new Error(`Failed to create post. Status: ${res.status}`); \r\n      }\r\n\r\n      onPostSuccess?.();\r\n      handleClose(); \r\n    } catch (error) {\r\n      console.error(\"❌ Post failed:\", error);\r\n      alert(\"Failed to upload post: \" + (error as Error).message);\r\n    } finally {\r\n      setLoading(false);\r\n      mediaCleanup.forEach(url => URL.revokeObjectURL(url));\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg w-full max-w-3xl relative p-6\">\r\n          <button\r\n            className=\"absolute top-3 right-3 text-gray-500 dark:text-gray-300\"\r\n            onClick={handleClose}\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n\r\n          {/* Profile */}\r\n          <div className=\"flex items-center mb-4\">\r\n            <img\r\n              src={user?.profilePic || \"https://picsum.photos/200\"}\r\n              alt=\"Profile\"\r\n              className=\"w-10 h-10 rounded-full object-cover mr-3\"\r\n            />\r\n            <span className=\"font-semibold text-gray-800 dark:text-gray-100\">\r\n              {user?.name || \"John Doe\"}\r\n            </span>\r\n          </div>\r\n\r\n          {/* Textarea */}\r\n          <textarea\r\n            rows={6}\r\n            placeholder=\"Write something...\"\r\n            className=\"w-full bg-gray-100 dark:bg-gray-700 rounded-md p-3 text-gray-700 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-600 resize-none mb-3\"\r\n            value={content}\r\n            onChange={(e) => setContent(e.target.value)}\r\n          />\r\n\r\n          {/* Media Preview */}\r\n          {media.length > 0 && (\r\n            <div className=\"flex flex-wrap gap-2 mb-3 max-h-60 overflow-y-auto\">\r\n              {media.map((item, idx) => (\r\n                <div key={idx} className=\"relative\">\r\n                  {item.type === \"image\" ? (\r\n                    <img\r\n                      src={item.preview}\r\n                      alt=\"attachment\"\r\n                      className=\"w-24 h-24 object-cover rounded-md\"\r\n                    />\r\n                  ) : (\r\n                    <video\r\n                      src={item.preview}\r\n                      controls\r\n                      className=\"w-24 h-24 object-cover rounded-md\"\r\n                    />\r\n                  )}\r\n                  <button\r\n                    onClick={() => handleRemoveMedia(idx)}\r\n                    className=\"absolute top-1 right-1 bg-black bg-opacity-50 rounded-full w-6 h-6 flex items-center justify-center text-white text-sm\"\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* Toolbar */}\r\n          <div className=\"flex items-center space-x-2 relative\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowEmojiPicker((prev) => !prev)}\r\n              className=\"p-2 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600\"\r\n            >\r\n              <Smile className=\"w-5 h-5 text-gray-600 dark:text-gray-300\" />\r\n            </button>\r\n            {showEmojiPicker && (\r\n              <div className=\"absolute z-50 mt-12\">\r\n                <EmojiPicker onEmojiClick={handleEmojiClick} />\r\n              </div>\r\n            )}\r\n\r\n            <label className=\"p-2 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 cursor-pointer\">\r\n              <Image className=\"w-5 h-5 text-gray-600 dark:text-gray-300\" />\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                multiple\r\n                onChange={(e) => handleMediaSelect(e, \"image\")}\r\n                className=\"hidden\"\r\n              />\r\n            </label>\r\n\r\n            <button\r\n              onClick={() => setShowVideoModal(true)}\r\n              className=\"p-2 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600\"\r\n            >\r\n              <Video className=\"w-5 h-5 text-gray-600 dark:text-gray-300\" />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Post Button */}\r\n          <button\r\n            onClick={handlePostClick}\r\n            disabled={loading || (!content.trim() && media.length === 0)}\r\n            className={`mt-4 w-full px-4 py-2 rounded-md font-semibold transition duration-150 ${\r\n              loading\r\n                ? \"bg-gray-400 text-white\"\r\n                : content.trim() || media.length > 0\r\n                ? \"bg-blue-600 text-white hover:bg-blue-700\"\r\n                : \"bg-gray-300 text-gray-500 cursor-not-allowed\"\r\n            }`}\r\n          >\r\n            {loading ? \"Posting...\" : \"Post\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Video Upload Modal */}\r\n      <VideoUploadModal\r\n        isOpen={showVideoModal}\r\n        onClose={() => setShowVideoModal(false)}\r\n        onNext={handleVideoNext}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PostContentModal;"],"names":["c","_c","React","useState","useEffect","X","Image","Video","Smile","EmojiPicker","EmojiClickData","useAuth","MediaItem","file","File","preview","type","PostContentModalProps","isOpen","onClose","onPostSuccess","initialMedia","VideoUploadModalProps","onNext","videoFile","videoPreview","VideoUploadModal","FC","t0","$","$i","Symbol","for","setVideoFile","setVideoPreview","t1","e","target","files","URL","createObjectURL","handleVideoSelect","t2","e_0","preventDefault","dataTransfer","handleDrop","t3","handleNext","t4","revokeObjectURL","t5","t6","t7","t8","_temp","t9","t10","t11","t12","PostContentModal","user","content","setContent","media","setMedia","showEmojiPicker","setShowEmojiPicker","showVideoModal","setShowVideoModal","loading","setLoading","forEach","item","handleMediaSelect","ChangeEvent","HTMLInputElement","filesArray","Array","from","map","prev","value","handleRemoveMedia","index","removed","filter","_","i","handleEmojiClick","emojiData","emoji","handleVideoNext","handleClose","handlePostClick","trim","length","token","console","error","alert","mediaCleanup","formData","FormData","append","push","res","fetch","method","headers","Authorization","body","ok","Error","status","message","url","profilePic","name","idx","e_1"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1144, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/posts/PostCreator.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { Edit, MoreHorizontal } from \"lucide-react\";\r\nimport PostContentModal from \"./PostContentModal\";\r\nimport { useAuth } from \"@/context/AuthContext\"; // ✅ import your AuthContext\r\n\r\nconst MOCK_AVATAR = \"https://picsum.photos/40/40?random=1\";\r\n\r\nconst PostCreator: React.FC = () => {\r\n  const [isPostModalOpen, setPostModalOpen] = useState(false);\r\n  const [attachedVideo, setAttachedVideo] = useState<File | null>(null);\r\n  const [attachedVideoPreview, setAttachedVideoPreview] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { user, token } = useAuth(); // ✅ from AuthContext\r\n\r\n  const handlePost = async (content: string, videoFile?: File | null) => {\r\n    if (!user) {\r\n      alert(\"You must be logged in to post.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n\r\n      const formData = new FormData();\r\n      formData.append(\"text\", content);\r\n\r\n      if (videoFile) {\r\n        formData.append(\"media\", videoFile);\r\n        formData.append(\"mediaType\", \"video\");\r\n      }\r\n\r\n      const res = await fetch(\"/api/posts\", {\r\n        method: \"POST\",\r\n        body: formData,\r\n        credentials: \"include\", // ✅ send cookies if JWT stored there\r\n        headers: token\r\n          ? {\r\n              Authorization: `Bearer ${token}`, // ✅ send JWT if in context\r\n            }\r\n          : {},\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (res.ok) {\r\n        console.log(\"✅ Post created successfully:\", data);\r\n        setAttachedVideo(null);\r\n        setAttachedVideoPreview(null);\r\n        setPostModalOpen(false);\r\n      } else {\r\n        console.error(\"❌ Error creating post:\", data.message);\r\n        alert(`Failed to post: ${data.message}`);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"❌ Request failed:\", err);\r\n      alert(\"Something went wrong while posting.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-[#131313] rounded-xs shadow-lg dark:shadow-2xl p-4 w-full mx-auto border border-gray-200 dark:border-gray-700\">\r\n      {/* Top Bar */}\r\n      <div className=\"flex justify-start border-b border-gray-200 dark:border-gray-700 pb-3 mb-3 text-sm md:text-base\">\r\n        <div\r\n          className=\"flex items-center space-x-2 text-gray-900 dark:text-white font-semibold cursor-pointer p-2 rounded-md transition duration-150 relative after:absolute after:bottom-[-13px] after:left-0 after:right-0 after:h-0.5 after:bg-gray-900 dark:after:bg-white\"\r\n          onClick={() => setPostModalOpen(true)}\r\n        >\r\n          <Edit className=\"w-5 h-5\" />\r\n          <span>Make Post</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Text Input */}\r\n      <div\r\n        className=\"flex space-x-3 items-start mb-4 cursor-text\"\r\n        onClick={() => setPostModalOpen(true)}\r\n      >\r\n        <img\r\n          src={user?.avatarUrl || MOCK_AVATAR}\r\n          alt=\"User Avatar\"\r\n          className=\"w-10 h-10 rounded-lg object-cover ring-2 ring-gray-400 dark:ring-gray-600\"\r\n        />\r\n        <textarea\r\n          rows={3}\r\n          placeholder=\"What you doing? Where you at? Oh you got plans? Please share that!\"\r\n          className=\"flex-1 bg-gray-100 dark:bg-gray-700 border-none rounded-md py-2 px-4 text-gray-700 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-600 resize-none transition duration-150\"\r\n          readOnly\r\n        />\r\n      </div>\r\n\r\n      {/* Post Modal */}\r\n      <PostContentModal\r\n        isOpen={isPostModalOpen}\r\n        onClose={() => setPostModalOpen(false)}\r\n        onPost={handlePost}\r\n        initialVideoFile={attachedVideo}\r\n        initialVideoPreview={attachedVideoPreview}\r\n        loading={loading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCreator;\r\n"],"names":["React","useState","Edit","MoreHorizontal","PostContentModal","useAuth","MOCK_AVATAR","PostCreator","FC","isPostModalOpen","setPostModalOpen","attachedVideo","setAttachedVideo","File","attachedVideoPreview","setAttachedVideoPreview","loading","setLoading","user","token","handlePost","content","videoFile","alert","formData","FormData","append","res","fetch","method","body","credentials","headers","Authorization","data","json","ok","console","log","error","message","err","avatarUrl"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1305, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/comments/CommentThread.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { ArrowRight, Heart, MessageCircle } from \"lucide-react\";\r\n\r\nexport interface CommentType {\r\n  id: number;\r\n  avatar: string;\r\n  name: string;\r\n  text: string;\r\n  replies?: CommentType[];\r\n  image?: string;\r\n}\r\n\r\ninterface CommentThreadProps {\r\n  comment: CommentType;\r\n  onAddReply?: (parentId: number, replyText: string) => void;\r\n}\r\n\r\nconst CommentThread: React.FC<CommentThreadProps> = ({\r\n  comment,\r\n  onAddReply,\r\n}) => {\r\n  const [liked, setLiked] = useState(false);\r\n  const [showReplyInput, setShowReplyInput] = useState(false);\r\n  const [replyText, setReplyText] = useState(\"\");\r\n  const [showReplies, setShowReplies] = useState(true);\r\n\r\n  const handleAddReply = () => {\r\n    if (!replyText.trim()) return;\r\n    onAddReply && onAddReply(comment.id, replyText);\r\n    setReplyText(\"\");\r\n    setShowReplyInput(false);\r\n    setShowReplies(true); // auto-show replies after adding\r\n  };\r\n\r\n  return (\r\n    <div className=\"ml-0 mt-2\">\r\n      <div className=\"flex items-start space-x-2\">\r\n        <img\r\n          src={comment.avatar}\r\n          alt={comment.name}\r\n          className=\"w-8 h-8 rounded-lg object-cover ring-1 ring-gray-300 dark:ring-gray-600\"\r\n        />\r\n        <div className=\"flex-1\">\r\n          <div className=\"bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-lg text-sm flex justify-between items-center\">\r\n            <span>\r\n              <span className=\"font-semibold text-gray-800 dark:text-gray-200\">\r\n                {comment.name}\r\n              </span>{\" \"}\r\n              {comment.text}\r\n            </span>\r\n            {comment.image && (\r\n              <img src={comment.image} className=\"w-6 h-6 rounded ml-2\" />\r\n            )}\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex space-x-4 text-xs text-gray-500 dark:text-gray-400 mt-1 ml-1\">\r\n            <button\r\n              onClick={() => setLiked(!liked)}\r\n              className={`hover:underline flex items-center space-x-1 ${\r\n                liked ? \"text-red-500\" : \"\"\r\n              }`}\r\n            >\r\n              Like\r\n            </button>\r\n            <button\r\n              onClick={() => setShowReplyInput(!showReplyInput)}\r\n              className=\"hover:underline flex items-center space-x-1\"\r\n            >\r\n              Reply\r\n            </button>\r\n            {comment.replies && comment.replies.length > 0 && (\r\n              <button\r\n                className=\"hover:underline flex items-center space-x-1\"\r\n                onClick={() => setShowReplies(!showReplies)}\r\n              >\r\n                {showReplies\r\n                  ? \"Hide Replies\"\r\n                  : `Show Replies (${comment.replies.length})`}\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Reply Input */}\r\n          {showReplyInput && (\r\n            <div className=\"flex items-center space-x-2 mt-2 ml-2\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"flex-1 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-md py-1 px-2 text-sm text-gray-700 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400 dark:focus:ring-gray-600\"\r\n                placeholder=\"Write a reply...\"\r\n                value={replyText}\r\n                onChange={(e) => setReplyText(e.target.value)}\r\n                onKeyDown={(e) => e.key === \"Enter\" && handleAddReply()}\r\n              />\r\n              <button onClick={handleAddReply}>\r\n                <ArrowRight className=\"w-5 h-5 text-gray-500 dark:text-gray-400\" />\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Nested Replies */}\r\n          {showReplies && (\r\n            <div className=\"ml-6\">\r\n              {comment.replies?.map((reply) => (\r\n                <CommentThread\r\n                  key={reply.id}\r\n                  comment={reply}\r\n                  onAddReply={onAddReply}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentThread;\r\n"],"names":["c","_c","React","useState","ArrowRight","Heart","MessageCircle","CommentType","id","avatar","name","text","replies","image","CommentThreadProps","comment","onAddReply","parentId","replyText","CommentThread","FC","t0","$","$i","Symbol","for","liked","setLiked","showReplyInput","setShowReplyInput","setReplyText","showReplies","setShowReplies","t1","trim","handleAddReply","t2","t3","t4","t5","t6","t7","t8","t9","t10","t11","length","t12","t13","e","target","value","e_0","key","t14","map","reply","t15","t16"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1648, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/utils/verifyToken.js"],"sourcesContent":["\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nexport const verifyToken = async (req) => {\r\n  try {\r\n    const authHeader = req.headers.get(\"authorization\");\r\n    if (!authHeader || !authHeader.startsWith(\"Bearer \")) return null;\r\n\r\n    const token = authHeader.split(\" \")[1];\r\n    const decoded = jwt.verify(token, process.env.JWT_SECRET);\r\n    return decoded; // { id, email, ... }\r\n  } catch (err) {\r\n    return null;\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;AASsC;AARtC;;AAEO,MAAM,cAAc,OAAO;IAChC,IAAI;QACF,MAAM,aAAa,IAAI,OAAO,CAAC,GAAG,CAAC;QACnC,IAAI,CAAC,cAAc,CAAC,WAAW,UAAU,CAAC,YAAY,OAAO;QAE7D,MAAM,QAAQ,WAAW,KAAK,CAAC,IAAI,CAAC,EAAE;QACtC,MAAM,UAAU,mJAAG,CAAC,MAAM,CAAC,OAAO,2KAAO,CAAC,GAAG,CAAC,UAAU;QACxD,OAAO,SAAS,qBAAqB;IACvC,EAAE,OAAO,KAAK;QACZ,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 1673, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/comments/Comment.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { ArrowRight } from \"lucide-react\";\r\nimport CommentThread, { CommentType } from \"./CommentThread\";\r\nimport { getToken } from \"@/utils/verifyToken\"; // assume you have a function to get JWT\r\n\r\ninterface CommentProps {\r\n  currentUserCommentAvatar: string;\r\n  postId: string;\r\n}\r\n\r\nconst Comment: React.FC<CommentProps> = ({\r\n  currentUserCommentAvatar,\r\n  postId,\r\n}) => {\r\n  const [comments, setComments] = useState<CommentType[]>([]);\r\n  const [newComment, setNewComment] = useState(\"\");\r\n  const [showComments, setShowComments] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Fetch comments on mount\r\n  useEffect(() => {\r\n    const fetchComments = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await fetch(`/api/comments?postId=${postId}`);\r\n        const data = await res.json();\r\n        if (data.success) {\r\n          // Map backend comment _id to id for frontend\r\n          const mappedComments = data.comments.map((c: any) => ({\r\n            id: c._id,\r\n            avatar: c.author.avatarUrl,\r\n            name: c.author.name,\r\n            text: c.text,\r\n            likes: c.likes,\r\n            replies: c.replies?.map((r: any) => ({\r\n              id: r._id,\r\n              avatar: r.author.avatarUrl,\r\n              name: r.author.name,\r\n              text: r.text,\r\n              likes: r.likes,\r\n            })),\r\n          }));\r\n          setComments(mappedComments);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch comments:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchComments();\r\n  }, [postId]);\r\n\r\n  const toggleComments = () => setShowComments((prev) => !prev);\r\n\r\n  const handleAddComment = async () => {\r\n    if (!newComment.trim()) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"token\"); // or wherever you store the JWT\r\n      const res = await fetch(\"/api/comments\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({ postId, text: newComment }),\r\n      });\r\n      const data = await res.json();\r\n      if (data.success) {\r\n        const newC: CommentType = {\r\n          id: data.comment._id,\r\n          avatar: data.comment.author.avatarUrl,\r\n          name: data.comment.author.name,\r\n          text: data.comment.text,\r\n          replies: [],\r\n        };\r\n        setComments([newC, ...comments]);\r\n        setNewComment(\"\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Failed to add comment:\", err);\r\n    }\r\n  };\r\n\r\n  const handleAddReply = async (parentId: string, replyText: string) => {\r\n    if (!replyText.trim()) return;\r\n    try {\r\n      const token = getToken();\r\n      const res = await fetch(`/api/comments/${parentId}/replies`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({ text: replyText }),\r\n      });\r\n      const data = await res.json();\r\n      if (data.success) {\r\n        const addReplyRecursively = (\r\n          commentList: CommentType[]\r\n        ): CommentType[] =>\r\n          commentList.map((comment) => {\r\n            if (comment.id === parentId) {\r\n              const newReply: CommentType = {\r\n                id: data.comment._id,\r\n                avatar: data.comment.author.avatarUrl,\r\n                name: data.comment.author.name,\r\n                text: replyText,\r\n                replies: [],\r\n              };\r\n              return {\r\n                ...comment,\r\n                replies: comment.replies\r\n                  ? [...comment.replies, newReply]\r\n                  : [newReply],\r\n              };\r\n            }\r\n            if (comment.replies) {\r\n              return {\r\n                ...comment,\r\n                replies: addReplyRecursively(comment.replies),\r\n              };\r\n            }\r\n            return comment;\r\n          });\r\n\r\n        setComments((prev) => addReplyRecursively(prev));\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Failed to add reply:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-3\">\r\n      <button\r\n        onClick={toggleComments}\r\n        className=\"text-sm text-blue-500 hover:underline mb-2\"\r\n      >\r\n        {showComments ? \"Hide Comments\" : `View Comments (${comments.length})`}\r\n      </button>\r\n\r\n      {showComments && (\r\n        <div className=\"space-y-3\">\r\n          {loading && <div>Loading comments...</div>}\r\n          {!loading &&\r\n            comments.map((comment) => (\r\n              <CommentThread\r\n                key={comment.id}\r\n                comment={comment}\r\n                onAddReply={handleAddReply}\r\n              />\r\n            ))}\r\n\r\n          {/* Add new comment input */}\r\n          <div className=\"flex items-center space-x-3 mt-4\">\r\n            <img\r\n              src={currentUserCommentAvatar}\r\n              alt=\"Your avatar\"\r\n              className=\"w-8 h-8 rounded-lg object-cover ring-1 ring-gray-300 dark:ring-gray-600\"\r\n            />\r\n            <div className=\"flex-1 relative\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Write a comment...\"\r\n                className=\"w-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-md py-2 pl-4 pr-10 text-gray-700 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400 dark:focus:ring-gray-600 transition duration-150 text-sm\"\r\n                value={newComment}\r\n                onChange={(e) => setNewComment(e.target.value)}\r\n                onKeyDown={(e) => e.key === \"Enter\" && handleAddComment()}\r\n              />\r\n              <button\r\n                onClick={handleAddComment}\r\n                className=\"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300\"\r\n              >\r\n                <ArrowRight className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n"],"names":["React","useState","useEffect","ArrowRight","CommentThread","CommentType","getToken","CommentProps","currentUserCommentAvatar","postId","Comment","FC","comments","setComments","newComment","setNewComment","showComments","setShowComments","loading","setLoading","fetchComments","res","fetch","data","json","success","mappedComments","map","c","id","_id","avatar","author","avatarUrl","name","text","likes","replies","r","err","console","error","toggleComments","prev","handleAddComment","trim","token","localStorage","getItem","method","headers","Authorization","body","JSON","stringify","newC","comment","handleAddReply","parentId","replyText","addReplyRecursively","commentList","newReply","length","e","target","value","key"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1931, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/posts/PostCardSkeleton.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\n\r\nconst PostCardSkeleton: React.FC = () => {\r\n  return (\r\n    <div className=\"bg-white dark:bg-[#131313] rounded-lg shadow-lg dark:shadow-2xl p-4 w-full mx-auto border border-gray-200 dark:border-gray-700 mb-6 animate-pulse\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center mb-3\">\r\n        <div className=\"w-10 h-10 bg-gray-300 dark:bg-gray-700 rounded-lg mr-3\" />\r\n        <div className=\"flex-1 space-y-2\">\r\n          <div className=\"h-3 bg-gray-300 dark:bg-gray-700 rounded w-32\" />\r\n          <div className=\"h-2 bg-gray-300 dark:bg-gray-700 rounded w-20\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Post Text */}\r\n      <div className=\"space-y-2 mb-3\">\r\n        <div className=\"h-3 bg-gray-300 dark:bg-gray-700 rounded w-full\" />\r\n        <div className=\"h-3 bg-gray-300 dark:bg-gray-700 rounded w-5/6\" />\r\n      </div>\r\n\r\n      {/* Post Images */}\r\n      <div className=\"grid gap-2 mb-4 grid-cols-2\">\r\n        <div className=\"h-52 bg-gray-300 dark:bg-gray-700 rounded-md\" />\r\n        <div className=\"h-52 bg-gray-300 dark:bg-gray-700 rounded-md\" />\r\n      </div>\r\n\r\n      {/* Actions */}\r\n      <div className=\"flex justify-around border-t border-b border-gray-200 dark:border-gray-700 py-2 mb-3\">\r\n        <div className=\"h-6 w-16 bg-gray-300 dark:bg-gray-700 rounded-md\" />\r\n        <div className=\"h-6 w-16 bg-gray-300 dark:bg-gray-700 rounded-md\" />\r\n        <div className=\"h-6 w-16 bg-gray-300 dark:bg-gray-700 rounded-md\" />\r\n      </div>\r\n\r\n      {/* Liked By */}\r\n      <div className=\"h-3 bg-gray-300 dark:bg-gray-700 rounded w-1/3 mb-3\" />\r\n\r\n      {/* Comments */}\r\n      <div className=\"space-y-2\">\r\n        <div className=\"flex items-start space-x-2\">\r\n          <div className=\"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded-lg\" />\r\n          <div className=\"flex-1 space-y-2\">\r\n            <div className=\"h-3 bg-gray-300 dark:bg-gray-700 rounded w-5/6\" />\r\n            <div className=\"h-2 bg-gray-300 dark:bg-gray-700 rounded w-2/3\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-start space-x-2\">\r\n          <div className=\"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded-lg\" />\r\n          <div className=\"flex-1 space-y-2\">\r\n            <div className=\"h-3 bg-gray-300 dark:bg-gray-700 rounded w-4/6\" />\r\n            <div className=\"h-2 bg-gray-300 dark:bg-gray-700 rounded w-1/2\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCardSkeleton;\r\n"],"names":["c","_c","React","PostCardSkeleton","FC","$","$i","Symbol","for","t0","t1","t2","t3","t4","t5","t6","t7","t8","t9"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2245, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/comments/CommentSkeleton.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\n\r\nconst CommentSkeleton: React.FC = () => {\r\n  return (\r\n    <div className=\"flex items-start space-x-2 animate-pulse mt-2 ml-0\">\r\n      <div className=\"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded-lg\" />\r\n      <div className=\"flex-1 space-y-2\">\r\n        <div className=\"h-3 bg-gray-300 dark:bg-gray-700 rounded w-3/4\" />\r\n        <div className=\"h-2 bg-gray-300 dark:bg-gray-700 rounded w-1/2\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentSkeleton;\r\n"],"names":["c","_c","React","CommentSkeleton","FC","$","$i","Symbol","for","t0","t1"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAAb,YAAY;;;AAIZ,wBAAkCE,CAAA;IAAA,MAAAE,CAAA,OAAAJ,gLAAA,EAAA;IAAA,IAAAI,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAA,IAAAI,EAAA;IAAA,IAAAJ,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAG5BC,EAAA,iBAAA,6LAAA,GAAmE;YAApD,SAAiD,EAAjD,iDAAiD,GAAG;;;;;;QAAAJ,CAAA,CAAA,EAAA,GAAAI,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAJ,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAK,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QADrEE,EAAA,iBAAA,6LAAA,GAMM;YANS,SAAoD,EAApD,oDAAoD,CACjE;;gBAAAD,EAAkE;8BAClE,6LAAA,GAGM;oBAHS,SAAkB,EAAlB,kBAAkB;;sCAC/B,6LAAA,GAAkE;4BAAnD,SAAgD,EAAhD,gDAAgD;;;;;;sCAC/D,6LAAA,GAAkE;4BAAnD,SAAgD,EAAhD,gDAAgD,GACjE,EAHA,GAGM,CACR,EANA,GAMM;;;;;;;;;;;;;;;;;;QAAAJ,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAAA,OANNK,EAMM;AAAA,CAET;KAVKP,eAAe,EAAED,KAAK,CAACE,EAAE;uCAYhBD,eAAe","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2327, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/posts/PostCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Heart, MessageCircle, Share2 } from \"lucide-react\";\r\nimport Comment from \"../comments/Comment\";\r\nimport PostCardSkeleton from \"../posts/PostCardSkeleton\";\r\nimport CommentSkeleton from \"../comments/CommentSkeleton\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n\r\ninterface MediaItem {\r\n    id: string;\r\n    url: string; // Changed from src to url to align with backend mapping\r\n    type: string; // image or video\r\n}\r\n\r\n// Adjusted CommentType to align with data structure\r\ninterface CommentType {\r\n  id: string;\r\n  author: {\r\n    _id: string; // Use _id for MongoDB ID\r\n    name: string;\r\n    avatarUrl: string;\r\n  };\r\n  text: string;\r\n  replies?: CommentType[];\r\n}\r\n\r\ninterface PostCardProps {\r\n  postId: string;\r\n}\r\n\r\n// Updated Post state structure to reflect API response fields (author, media, likes)\r\ninterface PostData {\r\n    id: string;\r\n    userAvatarUrl: string;\r\n    name: string;\r\n    feeling?: string;\r\n    withUser?: string;\r\n    postDate: string;\r\n    postText: string;\r\n    media: MediaItem[]; // Use 'media' to align with backend\r\n    likes: { _id: string, name: string }[]; // Array of user objects who liked it\r\n    comments: CommentType[];\r\n    // We calculate these derived properties locally\r\n}\r\n\r\nconst PostCard: React.FC<PostCardProps> = ({ postId }) => {\r\n    const { user } = useAuth();\r\n    const [loading, setLoading] = useState(true);\r\n    const [sharing, setSharing] = useState(false);\r\n    const [showComments, setShowComments] = useState(false);\r\n    \r\n    // Use PostData interface for the state\r\n    const [post, setPost] = useState<PostData | null>(null);\r\n\r\n    // Derived states\r\n    const postLiked = post?.likes.some(like => like._id === user?._id) || false;\r\n    \r\n    // Calculates how many people (excluding the current user) liked the post\r\n    const likedNames = post?.likes\r\n        .filter(like => like._id !== user?._id)\r\n        .map(like => like.name) || [];\r\n    \r\n    const totalLikesCount = post?.likes.length || 0;\r\n    \r\n    // --- Data Fetching Effect ---\r\n    useEffect(() => {\r\n        const fetchPost = async () => {\r\n            if (!postId) return;\r\n\r\n            try {\r\n                setLoading(true);\r\n                // Ensure the path is correct: /api/posts/[postId]\r\n                const res = await fetch(`/api/posts/${postId}`); \r\n                \r\n                if (!res.ok) {\r\n                    const errorData = await res.json();\r\n                    throw new Error(errorData.error || \"Failed to fetch post\");\r\n                }\r\n                const data = await res.json();\r\n                \r\n                // Assuming the API returns a structure like { success: true, post: { ... } }\r\n                const postData = data.post || data; \r\n\r\n                // --- CRITICAL DATA MAPPING CORRECTION ---\r\n                const formattedPost: PostData = {\r\n                    id: postData._id,\r\n                    // Ensure you access nested fields like author.avatarUrl\r\n                    userAvatarUrl: postData.author?.avatarUrl || `https://placehold.co/50x50/3498db/ffffff?text=${postData.author?.name ? postData.author.name.charAt(0) : \"U\"}`,\r\n                    name: postData.author?.name || \"Unknown User\",\r\n                    feeling: postData.feeling,\r\n                    withUser: postData.withUser,\r\n                    postDate: new Date(postData.createdAt).toLocaleString(),\r\n                    postText: postData.text,\r\n                    \r\n                    // Map media array correctly\r\n                    media: postData.media?.map((m: any) => ({\r\n                        id: m._id,\r\n                        url: m.url, // Assuming the URL is stored in 'url'\r\n                        type: m.type,\r\n                    })) || [],\r\n                    \r\n                    // Map likes array (assuming it contains { _id, name } objects)\r\n                    likes: postData.likes || [],\r\n                    \r\n                    // Map comments array\r\n                    comments: postData.comments?.map((c: any) => ({\r\n                        id: c._id,\r\n                        author: {\r\n                            _id: c.author?._id || \"\",\r\n                            name: c.author?.name || \"Unknown\",\r\n                            avatarUrl: c.author?.avatarUrl || `https://placehold.co/50x50/3498db/ffffff?text=${c.author?.name ? c.author.name.charAt(0) : \"U\"}`,\r\n                        },\r\n                        text: c.text,\r\n                        replies: c.replies || [],\r\n                    })) || [],\r\n                };\r\n\r\n                setPost(formattedPost);\r\n            } catch (err) {\r\n                console.error(\"Error fetching post:\", err);\r\n                setPost(null);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchPost();\r\n    }, [postId]); // Only depend on postId. The derived state (postLiked) handles user data.\r\n\r\n    // --- Action Handlers ---\r\n    const togglePostLike = async () => {\r\n        if (!post || !user?._id) return; // Use user._id\r\n\r\n        // Optimistic UI update\r\n        const isCurrentlyLiked = postLiked;\r\n        \r\n        // Update local state (Optimistic)\r\n        setPost(prevPost => {\r\n            if (!prevPost) return null;\r\n            \r\n            const userId = user._id;\r\n            const updatedLikes = isCurrentlyLiked\r\n                ? prevPost.likes.filter(like => like._id !== userId) // Remove like\r\n                : [...prevPost.likes, { _id: userId, name: user.name }]; // Add like\r\n            \r\n            return { ...prevPost, likes: updatedLikes };\r\n        });\r\n\r\n        try {\r\n            const url = `/api/posts/${postId}/like`;\r\n            const res = await fetch(url, {\r\n                method: \"POST\",\r\n                // CRITICAL: Send Authorization header for protected endpoints\r\n                headers: { \r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": `Bearer ${user.token}`,\r\n                },\r\n                body: JSON.stringify({ userId: user._id }), \r\n            });\r\n            \r\n            if (!res.ok) throw new Error(\"Server failed to process like\");\r\n\r\n        } catch (err) {\r\n            console.error(\"Failed to toggle like:\", err);\r\n            // Revert optimistic update on failure\r\n            setPost(prevPost => {\r\n                if (!prevPost) return null;\r\n                const userId = user._id;\r\n                const updatedLikes = isCurrentlyLiked\r\n                    ? [...prevPost.likes, { _id: userId, name: user.name }] \r\n                    : prevPost.likes.filter(like => like._id !== userId);\r\n                return { ...prevPost, likes: updatedLikes };\r\n            });\r\n        }\r\n    };\r\n\r\n    const toggleComments = () => setShowComments((prev) => !prev);\r\n\r\n    const handleShare = async () => {\r\n        if (!post || sharing) return;\r\n        setSharing(true);\r\n        const postUrl = window.location.href;\r\n        const shareText = `Check out this post by ${post.name}: ${post.postText}`;\r\n\r\n        if (navigator.share) {\r\n            try {\r\n                await navigator.share({ title: `Post by ${post.name}`, text: shareText, url: postUrl });\r\n            } catch (err) {\r\n                console.log(\"Error sharing:\", err);\r\n            }\r\n        } else {\r\n            try {\r\n                // Use document.execCommand('copy') for better iframe compatibility\r\n                const tempInput = document.createElement('textarea');\r\n                tempInput.value = `${shareText}\\n${postUrl}`;\r\n                document.body.appendChild(tempInput);\r\n                tempInput.select();\r\n                document.execCommand('copy');\r\n                document.body.removeChild(tempInput);\r\n                alert(\"Post link and text copied to clipboard!\");\r\n            } catch (err) {\r\n                alert(`Copy this link manually: ${postUrl}`);\r\n            }\r\n        }\r\n        setSharing(false);\r\n    };\r\n\r\n    if (loading || !post) {\r\n        return (\r\n            <div className=\"mb-6\">\r\n                <PostCardSkeleton />\r\n                <CommentSkeleton />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // --- Render Logic ---\r\n    return (\r\n        <div className=\"bg-white dark:bg-[#131313] rounded-lg shadow-lg dark:shadow-2xl p-4 w-full mx-auto border border-gray-200 dark:border-gray-700 mb-6\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center mb-3\">\r\n                <img\r\n                    src={post.userAvatarUrl}\r\n                    alt={`${post.name}'s avatar`}\r\n                    className=\"w-10 h-10 rounded-lg object-cover mr-3 ring-1 ring-gray-300 dark:ring-gray-600\"\r\n                />\r\n                <div>\r\n                    <div className\r\n=\"text-gray-900 dark:text-white font-semibold text-sm\">\r\n                        {post.name}\r\n                        {post.feeling && (\r\n                            <span className=\"ml-1 text-gray-700 dark:text-gray-300 font-normal\">\r\n                                is feeling {post.feeling} {post.feeling === \"excited\" ? \"🤩\" : \"\"}\r\n                            </span>\r\n                        )}\r\n                        {post.withUser && (\r\n                            <span className=\"ml-1 text-gray-700 dark:text-gray-300 font-normal\">\r\n                                with <span className=\"font-semibold\">{post.withUser}</span>\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"text-gray-500 dark:text-gray-400 text-xs\">{post.postDate}</div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Post Text */}\r\n            <p className=\"text-gray-800 dark:text-gray-200 mb-3 text-sm whitespace-pre-wrap\">{post.postText}</p>\r\n\r\n            {/* Post Media (Images/Videos) */}\r\n            {post.media.length > 0 && (\r\n                <div className={`grid gap-2 mb-4 ${post.media.length === 1 ? \"grid-cols-1\" : \"grid-cols-2\"}`}>\r\n                    {post.media.map((item) => (\r\n                        <div key={item.id} className=\"relative w-full h-52\">\r\n                            {item.type === 'video' ? (\r\n                                <video controls src={item.url} className=\"w-full h-full object-cover rounded-md\" />\r\n                            ) : (\r\n                                <img src={item.url} alt={item.type} className=\"w-full h-full object-cover rounded-md\" />\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex justify-around border-t border-b border-gray-200 dark:border-gray-700 py-2 mb-3\">\r\n                <button onClick={togglePostLike} className={`flex items-center space-x-2 px-4 py-2 rounded-md transition duration-150 ${postLiked ? \"text-red-500 hover:text-red-600 dark:hover:text-red-400\" : \"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700\"}`}>\r\n                    <Heart className=\"w-5 h-5\" fill={postLiked ? \"currentColor\" : \"none\"} />\r\n                    <span className=\"text-sm font-medium\">{postLiked ? \"Liked\" : \"Like\"}</span>\r\n                </button>\r\n\r\n                <button onClick={toggleComments} className=\"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 px-4 py-2 rounded-md transition duration-150\">\r\n                    <MessageCircle className=\"w-5 h-5\" />\r\n                    <span className=\"text-sm font-medium\">Comment</span>\r\n                </button>\r\n\r\n                <button onClick={handleShare} disabled={sharing} className={`flex items-center space-x-2 px-4 py-2 rounded-md transition duration-150 ${sharing ? \"text-gray-400 cursor-not-allowed\" : \"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700\"}`}>\r\n                    <Share2 className=\"w-5 h-5\" />\r\n                    <span className=\"text-sm font-medium\">Share</span>\r\n                </button>\r\n            </div>\r\n\r\n            {/* Liked By */}\r\n            <div className=\"flex items-center text-gray-700 dark:text-gray-300 text-xs mb-3\">\r\n                {totalLikesCount > 0 && (\r\n                    <>\r\n                        <Heart className=\"w-3 h-3 mr-1 text-red-500 fill-current\" />\r\n                        <span className=\"font-semibold\">\r\n                            {postLiked && `You${likedNames.length > 0 ? `, ` : \"\"}`}\r\n                            {likedNames.length > 0 && likedNames.slice(0, 2).join(\", \")}\r\n                            {likedNames.length > 2 && ` and ${likedNames.length - 2} others`}\r\n                        </span>\r\n                        <span className=\"ml-1\"> liked this.</span>\r\n                    </>\r\n                )}\r\n            </div>\r\n\r\n            {/* Comments */}\r\n            {showComments && <Comment currentUserCommentAvatar={user?.profilePic || `https://placehold.co/50x50/3498db/ffffff?text=${user?.name ? user.name.charAt(0) : \"U\"}`} initialComments={post.comments} postId={postId} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PostCard;"],"names":["React","useState","useEffect","Heart","MessageCircle","Share2","Comment","PostCardSkeleton","CommentSkeleton","useAuth","MediaItem","id","url","type","CommentType","author","_id","name","avatarUrl","text","replies","PostCardProps","postId","PostData","userAvatarUrl","feeling","withUser","postDate","postText","media","likes","comments","PostCard","FC","user","loading","setLoading","sharing","setSharing","showComments","setShowComments","post","setPost","postLiked","some","like","likedNames","filter","map","totalLikesCount","length","fetchPost","res","fetch","ok","errorData","json","Error","error","data","postData","formattedPost","charAt","Date","createdAt","toLocaleString","m","c","err","console","togglePostLike","isCurrentlyLiked","prevPost","userId","updatedLikes","method","headers","token","body","JSON","stringify","toggleComments","prev","handleShare","postUrl","window","location","href","shareText","navigator","share","title","log","tempInput","document","createElement","value","appendChild","select","execCommand","removeChild","alert","item","slice","join","profilePic"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2811, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/posts/MiddleContent.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport PostCreator from \"./PostCreator\";\r\nimport PostCard from \"./PostCard\";\r\nimport { useAuth } from \"@/context/AuthContext\"; // adjust path\r\n\r\ninterface PostFromBackend {\r\n  id: string;\r\n  user: { name: string; profilePic: string };\r\n  feeling?: string;\r\n  withUser?: string;\r\n  createdAt: string;\r\n  text: string;\r\n  media?: { url: string; type: \"image\" | \"video\"; alt?: string }[];\r\n  likedBy: string[];\r\n  totalLikes: number;\r\n  commentsCount: number;\r\n  sharedCount: number;\r\n}\r\n\r\nconst MiddleContent: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [posts, setPosts] = useState<PostFromBackend[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const res = await fetch(\"/api/posts\", { method: \"GET\" });\r\n        if (!res.ok) throw new Error(\"Failed to fetch posts\");\r\n        const data: PostFromBackend[] = await res.json();\r\n        setPosts(data);\r\n      } catch (err) {\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"flex-1 h-screen p-4 space-y-4 overflow-y-auto scrollbar-custom mx-64 mr-64\">\r\n      <PostCreator />\r\n\r\n      {loading\r\n        ? Array.from({ length: 3 }).map((_, idx) => (\r\n            <PostCard key={idx} postId=\"\" /> // optional skeleton inside PostCard\r\n          ))\r\n        : posts.map((post) => (\r\n            <PostCard key={post._id} postId={post._id} />\r\n          ))}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default MiddleContent;\r\n"],"names":["React","useState","useEffect","PostCreator","PostCard","useAuth","PostFromBackend","id","user","name","profilePic","feeling","withUser","createdAt","text","media","url","type","alt","likedBy","totalLikes","commentsCount","sharedCount","MiddleContent","FC","posts","setPosts","loading","setLoading","fetchPosts","res","fetch","method","ok","Error","data","json","err","console","error","Array","from","length","map","_","idx","post","_id"],"mappings":";;;;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,QAAQ,MAAM,YAAY;AACjC,SAASC,OAAO,QAAQ,uBAAuB,CAAC,yKAAC,cAAA;;;AALjD,YAAY;;;;;AAqBZ,sBAAgCkB,CAAA,KAAM;;IACpC,MAAM,EAAEf,IAAAA,EAAM;IACd,MAAM,CAACiB,KAAK,EAAEC,QAAQ,CAAC,OAAGzB,yKAAQ,CAACK,CAAmB,EAAE,CAAC,WAAP,EAAE,CAAC;IACrD,MAAM,CAACqB,OAAO,EAAEC,UAAU,CAAC,OAAG3B,yKAAQ,EAAC,IAAI,CAAC;QAE5CC,0KAAS;mCAAC,MAAM;YACd,MAAM2B,UAAU;sDAAG,MAAAA,CAAA,KAAY;oBAC7B,IAAI;wBACFD,UAAU,CAAC,IAAI,CAAC;wBAChB,MAAME,GAAG,GAAG,MAAMC,KAAK,CAAC,YAAY,EAAE;4BAAEC,MAAM,EAAE;wBAAM,CAAC,CAAC;wBACxD,IAAI,CAACF,GAAG,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;wBACrD,MAAMC,IAAI,EAAE7B,CAAoB,MAAMwB,GAAG,CAACM,IAAf,AAAmB,CAAC,CAAlB,AAAmB;wBAChDV,QAAQ,CAACS,IAAI,CAAC;oBAChB,CAAC,CAAC,OAAOE,GAAG,EAAE;wBACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;oBACpB,CAAC,QAAS;wBACRT,UAAU,CAAC,KAAK,CAAC;oBACnB;gBACF,CAAC;;YAEDC,UAAU,CAAC,CAAC;QACd,CAAC;kCAAE,EAAE,CAAC;IAEN,qBACE,6LAAC,IAAI;QAAC,SAAS,EAAC,4EAA4E,CAAC;;0BAC3F,6LAAC,iJAAW,GAAG;;;;;YAEdF,OAAO,GACJa,KAAK,CAACC,IAAI,CAAC;gBAAEC,MAAM,EAAE;YAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,CAAC,EAAEC,GAAG,iBACnC,6LAAC,8IAAQ,CAAC,GAAG,CAAC;oBAAM,MAAM,EAAC,EAAE,GAAG,CAAC;mBAAlBA,GAAG,CAAC;;;;gEAErBpB,KAAK,CAACkB,GAAG,EAAEG,IAAI,iBACb,6LAAC,8IAAQ,CAAC,GAAG,CAAC;oBAAW,MAAM,CAAC,CAACA,IAAI,CAACC,GAAG,CAAC,GAC3C,CAAC,CAAC;mBADcD,IAAI,CAACC,GAAG,CAAC;;;;;;;;;;;AAIpC,CAAC;;;QAnCkB1C,qIAAO,CAAC,CAAC;;;KADtBkB,aAAa,EAAEvB,KAAK,CAACwB,EAAE;uCAsCdD,aAAa","ignoreList":[],"debugId":null}}]
}