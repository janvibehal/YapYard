{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/Sidebar-left.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  Home,\r\n  Hash,\r\n  Heart,\r\n  Clapperboard,\r\n  Bell,\r\n  User,\r\n  Upload,\r\n  MessageSquare,\r\n  Bookmark,\r\n  Activity,\r\n  Moon,\r\n  ChevronDown,\r\n  ChevronUp,\r\n} from \"lucide-react\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n\r\nconst COLORS = {\r\n  BACKGROUND_PRIMARY: \"bg-[#131313]\",\r\n  BACKGROUND_SECONDARY: \"bg-gray-800\",\r\n  BORDER_COLOR: \"border-gray-800\",\r\n  TEXT_PRIMARY: \"text-white\",\r\n  TEXT_SECONDARY: \"text-gray-300\",\r\n  TEXT_HEADER: \"text-gray-500\",\r\n  ACTIVE_ACCENT: \"border-white\",\r\n  ACTIVE_BACKGROUND: \"bg-gray-800\",\r\n};\r\n\r\nconst menuSections = [\r\n  {\r\n    title: \"MAIN MENU\",\r\n    links: [\r\n      { name: \"Home Page\", icon: Home, isActive: true },\r\n      { name: \"Trending Topics\", icon: Hash },\r\n      { name: \"Popular Creator\", icon: Heart },\r\n      { name: \"Reels\", icon: Clapperboard },\r\n      { name: \"Notification\", icon: Bell },\r\n    ],\r\n    defaultOpen: true,\r\n  },\r\n  {\r\n    title: \"MY MENU\",\r\n    links: [\r\n      { name: \"Profile\", icon: User },\r\n      { name: \"Shot Upload\", icon: Upload },\r\n      { name: \"Message\", icon: MessageSquare },\r\n    ],\r\n    defaultOpen: true,\r\n  },\r\n];\r\n\r\nconst MenuItem = ({ icon: Icon, name, isActive = false, onClick = () => {} }) => (\r\n  <div\r\n    onClick={onClick}\r\n    className={`flex items-center p-3 my-0.5 rounded-lg transition-colors cursor-pointer text-sm\r\n      ${\r\n        isActive\r\n          ? `${COLORS.ACTIVE_BACKGROUND} ${COLORS.TEXT_PRIMARY} font-semibold border-r-4 ${COLORS.ACTIVE_ACCENT}`\r\n          : `${COLORS.TEXT_SECONDARY} opacity-80 hover:${COLORS.BACKGROUND_SECONDARY}/50 hover:${COLORS.TEXT_PRIMARY}`\r\n      }`}\r\n  >\r\n    <Icon className=\"w-5 h-5 mr-3\" />\r\n    <span>{name}</span>\r\n  </div>\r\n);\r\n\r\nconst MenuSection = ({ section }) => {\r\n  const [isOpen, setIsOpen] = useState(section.defaultOpen);\r\n  const headerClasses = `flex items-center justify-between text-xs font-bold tracking-widest ${COLORS.TEXT_HEADER} uppercase cursor-pointer mb-2`;\r\n  const iconClasses = `w-3 h-3 ${COLORS.TEXT_HEADER}`;\r\n\r\n  return (\r\n    <div className=\"mb-6\">\r\n      <div className={headerClasses} onClick={() => setIsOpen(!isOpen)}>\r\n        {section.title}\r\n        {isOpen ? <ChevronUp className={iconClasses} /> : <ChevronDown className={iconClasses} />}\r\n      </div>\r\n      {isOpen && (\r\n        <nav>\r\n          {section.links.map((link, index) => (\r\n            <MenuItem key={index} {...link} />\r\n          ))}\r\n        </nav>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Sidebar = () => {\r\n  const [isDarkMode, setIsDarkMode] = useState(true);\r\n  const { user, logout } = useAuth();\r\n\r\n  //fallback avatar using Picsum if not provided\r\n  const avatarSrc =\r\n    user?.avatarUrl ||\r\n    `https://picsum.photos/200?random=${user?._id || Math.floor(Math.random() * 1000)}`;\r\n\r\n  return (\r\n    <aside\r\n      className={`w-64 h-screen ${COLORS.BACKGROUND_PRIMARY} ${COLORS.TEXT_PRIMARY} p-4 flex flex-col shadow-2xl rounded-xl border ${COLORS.BORDER_COLOR}`}\r\n    >\r\n      {/* Logo */}\r\n      <div className=\"flex items-center mb-8 pt-1\">\r\n        <h1 className={`text-3xl pl-1 font-serif italic ${COLORS.TEXT_PRIMARY}`}>DZINR-APP</h1>\r\n      </div>\r\n\r\n      {/* Menu Sections */}\r\n      <div className=\"flex-grow\">\r\n        {menuSections.map((section, index) => (\r\n          <MenuSection key={index} section={section} />\r\n        ))}\r\n      </div>\r\n\r\n      {/* Login or Profile */}\r\n      <div className=\"my-4 border-t border-gray-700 pt-4 flex justify-center\">\r\n        {user ? (\r\n          <div className=\"flex items-center space-x-3 cursor-pointer hover:bg-gray-700 px-4 py-2 rounded-lg transition-all w-full justify-between\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <img\r\n                src={avatarSrc}\r\n                alt=\"Profile\"\r\n                className=\"w-10 h-10 rounded-full border border-gray-600\"\r\n              />\r\n              <span className=\"font-medium text-white capitalize\">{user.name}</span>\r\n            </div>\r\n            <button\r\n              onClick={logout}\r\n              className=\"text-xs bg-red-600 hover:bg-red-700 text-white py-1 px-3 rounded-md\"\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <a\r\n            href=\"/auth/login\"\r\n            className=\"w-full bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-8 rounded-lg shadow-md transition-all duration-200 flex items-center justify-center\"\r\n          >\r\n            Login\r\n          </a>\r\n        )}\r\n      </div>\r\n\r\n      {/* Dark Mode Toggle */}\r\n      <div\r\n        className={`p-3 ${COLORS.BACKGROUND_SECONDARY} rounded-lg border ${COLORS.BORDER_COLOR} flex items-center justify-between shadow-inner`}\r\n      >\r\n        <div className={`flex items-center text-sm ${COLORS.TEXT_SECONDARY}`}>\r\n          <Moon className={`w-5 h-5 mr-3 ${COLORS.TEXT_PRIMARY}`} />\r\n          <span className={COLORS.TEXT_PRIMARY}>Dark Mode</span>\r\n        </div>\r\n        <label className=\"relative inline-flex items-center cursor-pointer\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={isDarkMode}\r\n            onChange={() => setIsDarkMode(!isDarkMode)}\r\n            className=\"sr-only peer\"\r\n          />\r\n          <div\r\n            className={`w-12 h-6 ${COLORS.BACKGROUND_SECONDARY} rounded-full peer-checked:bg-white transition-colors duration-300 shadow-md`}\r\n          ></div>\r\n          <div\r\n            className={`absolute top-0.5 left-[3px] w-5 h-5 rounded-full transition-transform duration-300 shadow-lg ${\r\n              isDarkMode ? \"translate-x-[20px] bg-black\" : \"translate-x-0 bg-white\"\r\n            }`}\r\n          ></div>\r\n        </label>\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"names":["c","_c","React","useState","Home","Hash","Heart","Clapperboard","Bell","User","Upload","MessageSquare","Bookmark","Activity","Moon","ChevronDown","ChevronUp","useAuth","COLORS","BACKGROUND_PRIMARY","BACKGROUND_SECONDARY","BORDER_COLOR","TEXT_PRIMARY","TEXT_SECONDARY","TEXT_HEADER","ACTIVE_ACCENT","ACTIVE_BACKGROUND","menuSections","title","links","name","icon","isActive","defaultOpen","MenuItem","t0","$","$i","Symbol","for","Icon","t1","onClick","t2","undefined","_temp","t3","t4","t5","t6","MenuSection","section","isOpen","setIsOpen","headerClasses","iconClasses","map","_temp2","Sidebar","isDarkMode","setIsDarkMode","user","logout","avatarSrc","avatarUrl","_id","Math","floor","random","_temp3","t7","t8","t9","t10","link","index"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SACEC,IAAI,EACJC,IAAI,EACJC,KAAK,EACLC,YAAY,EACZC,IAAI,EACJC,IAAI,EACJC,MAAM,EACNC,aAAa,EACbC,QAAQ,EACRC,QAAQ,EACRC,IAAI,EACJC,WAAW,EACXC,SAAS,QACJ,cAAc;;;;;;;;;;;AACrB,SAASC,OAAO,QAAQ,uBAAuB;;;AAlB/C,YAAY;;;;;AAoBZ,MAAMC,MAAM,GAAG;IACbC,kBAAkB,EAAE,cAAc;IAClCC,oBAAoB,EAAE,aAAa;IACnCC,YAAY,EAAE,iBAAiB;IAC/BC,YAAY,EAAE,YAAY;IAC1BC,cAAc,EAAE,eAAe;IAC/BC,WAAW,EAAE,eAAe;IAC5BC,aAAa,EAAE,cAAc;IAC7BC,iBAAiB,EAAE;AACrB,CAAC;AAED,MAAMC,YAAY,GAAG;IACnB;QACEC,KAAK,EAAE,WAAW;QAClBC,KAAK,EAAE;YACL;gBAAEC,IAAI,EAAE,WAAW;gBAAEC,IAAI,EAAE3B,8MAAI;gBAAE4B,QAAQ,EAAE;YAAK,CAAC;YACjD;gBAAEF,IAAI,EAAE,iBAAiB;gBAAEC,IAAI,EAAE1B,6MAAAA;YAAK,CAAC;YACvC;gBAAEyB,IAAI,EAAE,iBAAiB;gBAAEC,IAAI,EAAEzB,gNAAAA;YAAM,CAAC;YACxC;gBAAEwB,IAAI,EAAE,OAAO;gBAAEC,IAAI,EAAExB,qOAAAA;YAAa,CAAC;YACrC;gBAAEuB,IAAI,EAAE,cAAc;gBAAEC,IAAI,EAAEvB,6MAAAA;YAAK,CAAC;SACrC;QACDyB,WAAW,EAAE;IACf,CAAC;IACD;QACEL,KAAK,EAAE,SAAS;QAChBC,KAAK,EAAE;YACL;gBAAEC,IAAI,EAAE,SAAS;gBAAEC,IAAI,EAAEtB,6MAAAA;YAAK,CAAC;YAC/B;gBAAEqB,IAAI,EAAE,aAAa;gBAAEC,IAAI,EAAErB,mNAAAA;YAAO,CAAC;YACrC;gBAAEoB,IAAI,EAAE,SAAS;gBAAEC,IAAI,EAAEpB,4OAAAA;YAAc,CAAC;SACzC;QACDsB,WAAW,EAAE;IACf,CAAC;CACF;AAED,kBAAiBE,EAAA;IAAA,MAAAC,CAAA,OAAAnC,gLAAA,EAAA;IAAA,IAAAmC,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAC,MAAA,EAAAL,IAAA,EAAAS,IAAA,EAAAV,IAAA,EAAAE,QAAA,EAAAS,EAAA,EAAAC,OAAA,EAAAC,EAAAA,EAAA,GAAAR,EAA0D;IAAtC,MAAAH,QAAA,GAAAS,EAAgB,KAAhBG,SAAgB,GAAhB,KAAgB,GAAhBH,EAAgB;IAAE,MAAAC,OAAA,GAAAC,EAAkB,KAAlBC,SAAkB,GAAlBC,KAAkB,GAAlBF,EAAkB;IAG3D,MAAAG,EAAA,GAAA,CAAA;MACf,EACQd,QAAQ,GAAR,GACOd,MAAM,CAAAQ,iBAAkB,CAAA,CAAA,EAAIR,MAAM,CAAAI,YAAa,CAAA,0BAAA,EAA6BJ,MAAM,CAAAO,aAAc,EACO,GAF9G,GAEOP,MAAM,CAAAK,cAAe,CAAA,kBAAA,EAAqBL,MAAM,CAAAE,oBAAqB,CAAA,UAAA,EAAaF,MAAM,CAAAI,YAAa,EAAE,EAC9G;IAAA,IAAAyB,EAAA;IAAA,IAAAX,CAAA,CAAA,EAAA,KAAAI,IAAA,EAAA;QAEJO,EAAA,iBAAA,6LAAC,IAAI;YAAW,SAAc,EAAd,cAAc,GAAG;;;;;;QAAAX,CAAA,CAAA,EAAA,GAAAI,IAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAW,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAX,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAY,EAAA;IAAA,IAAAZ,CAAA,CAAA,EAAA,KAAAN,IAAA,EAAA;QACjCkB,EAAA,iBAAA,6LAAA,IAAmB,CAAZlB;sBAAAA,IAAG,CAAE,EAAZ,IAAmB;;;;;;QAAAM,CAAA,CAAA,EAAA,GAAAN,IAAA;QAAAM,CAAA,CAAA,EAAA,GAAAY,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAZ,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAa,EAAA;IAAA,IAAAb,CAAA,CAAA,EAAA,KAAAM,OAAA,IAAAN,CAAA,CAAA,EAAA,KAAAU,EAAA,IAAAV,CAAA,CAAA,EAAA,KAAAW,EAAA,IAAAX,CAAA,CAAA,EAAA,KAAAY,EAAA,EAAA;QAVrBC,EAAA,iBAAA,6LAAA,GAWM;YAVKP,OAAO,CAAPA,CAAAA,OAAM,CAAC;YACL,SAKP,CALO,CAAAI,EAKR,CAAC,CAEJ;;gBAAAC,EAAgC,CAChC;gBAAAC,EAAkB,CACpB,EAXA,GAWM;;;;;;;QAAAZ,CAAA,CAAA,EAAA,GAAAM,OAAA;QAAAN,CAAA,CAAA,EAAA,GAAAU,EAAA;QAAAV,CAAA,CAAA,EAAA,GAAAW,EAAA;QAAAX,CAAA,CAAA,EAAA,GAAAY,EAAA;QAAAZ,CAAA,CAAA,EAAA,GAAAa,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAb,CAAA,CAAA,EAAA;IAAA;IAAA,OAXNa,EAWM;AAAA,CACP;KAbKf,QAAQ;AAed,qBAAoBC,EAAA;;IAAA,MAAAC,CAAA,OAAAnC,gLAAA,EAAA;IAAA,IAAAmC,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAC,MAAA,EAAAe,OAAAA,EAAA,GAAAhB,EAAW;IAC9B,MAAA,CAAAiB,MAAA,EAAAC,SAAA,CAAA,OAA4BlD,yKAAQ,EAACgD,OAAO,CAAAlB,WAAY,CAAC;IACzD,MAAAqB,aAAA,GAAsB,CAAA,oEAAA,EAAuEpC,MAAM,CAAAM,WAAY,CAAA,8BAAA,CAAgC;IAC/I,MAAA+B,WAAA,GAAoB,CAAA,QAAA,EAAWrC,MAAM,CAAAM,WAAY,EAAE;IAAC,IAAAiB,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAgB,MAAA,EAAA;QAIRX,EAAA,GAAAA,CAAA,GAAMY,SAAS,CAAC,CAACD,MAAM,CAAC;QAAAhB,CAAA,CAAA,EAAA,GAAAgB,MAAA;QAAAhB,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAO,EAAA;IAAA,IAAAP,CAAA,CAAA,EAAA,KAAAgB,MAAA,EAAA;QAE7DT,EAAA,GAAAS,MAAM,iBAAG,6LAAC,gOAAS;YAAYG,SAAW,CAAXA,CAAAA,WAAU,CAAC,GAA8C;;;;;qEAAvC,6LAAC,sOAAW;YAAYA,SAAW,CAAXA,CAAAA,WAAU,CAAC,GAAI;;;;;;QAAAnB,CAAA,CAAA,EAAA,GAAAgB,MAAA;QAAAhB,CAAA,CAAA,EAAA,GAAAO,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAP,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAU,EAAA;IAAA,IAAAV,CAAA,CAAA,EAAA,KAAAe,OAAA,CAAAvB,KAAA,IAAAQ,CAAA,CAAA,EAAA,KAAAK,EAAA,IAAAL,CAAA,CAAA,EAAA,KAAAO,EAAA,EAAA;QAF3FG,EAAA,iBAAA,6LAAA,GAGM;YAHUQ,SAAa,CAAbA,CAAAA,aAAY,CAAC;YAAW,OAAwB,CAAxB,CAAAb,EAAuB,CAAC,CAC7D;;gBAAAU,OAAO,CAAAvB,KAAK,CACZ;gBAAAe,EAAuF,CAC1F,EAHA,GAGM;;;;;;;QAAAP,CAAA,CAAA,EAAA,GAAAe,OAAA,CAAAvB,KAAA;QAAAQ,CAAA,CAAA,EAAA,GAAAK,EAAA;QAAAL,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAU,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAV,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAW,EAAA;IAAA,IAAAX,CAAA,CAAA,EAAA,KAAAgB,MAAA,IAAAhB,CAAA,CAAA,GAAA,KAAAe,OAAA,CAAAtB,KAAA,EAAA;QACLkB,EAAA,GAAAK,MAMA,kBALC,6LAAA,GAIM,CAHH;sBAAAD,OAAO,CAAAtB,KAAM,CAAA2B,GAAI,CAACC,MAElB,EACH,EAJA,GAIM,CACP;;;;;;QAAArB,CAAA,CAAA,EAAA,GAAAgB,MAAA;QAAAhB,CAAA,CAAA,GAAA,GAAAe,OAAA,CAAAtB,KAAA;QAAAO,CAAA,CAAA,GAAA,GAAAW,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAX,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAY,EAAA;IAAA,IAAAZ,CAAA,CAAA,GAAA,KAAAU,EAAA,IAAAV,CAAA,CAAA,GAAA,KAAAW,EAAA,EAAA;QAXHC,EAAA,iBAAA,6LAAA,GAYM;YAZS,SAAM,EAAN,MAAM,CACnB;;gBAAAF,EAGK,CACJ;gBAAAC,EAMD,CACF,EAZA,GAYM;;;;;;;QAAAX,CAAA,CAAA,GAAA,GAAAU,EAAA;QAAAV,CAAA,CAAA,GAAA,GAAAW,EAAA;QAAAX,CAAA,CAAA,GAAA,GAAAY,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAZ,CAAA,CAAA,GAAA;IAAA;IAAA,OAZNY,EAYM;AAAA,CAET;;MApBKE,WAAW;AAsBjB,gBAAgBQ,CAAA;;IAAA,MAAAtB,CAAA,OAAAnC,gLAAA,EAAA;IAAA,IAAAmC,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IACd,MAAA,CAAAuB,UAAA,EAAAC,aAAA,CAAA,OAAoCzD,yKAAQ,EAAC,IAAI,CAAC;IAClD,MAAA,EAAA0D,IAAA,EAAAC,MAAAA,EAAA;IAGA,MAAAC,SAAA,GACEF,IAAI,EAAAG,SAC+E,IADnF,CAAA,iCAAA,EACoCH,IAAI,EAAAI,GAAyC,IAAhCC,IAAI,CAAAC,KAAM,CAACD,IAAI,CAAAE,MAAO,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE;IAAC,IAAAjC,EAAA;IAAA,IAAAC,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAOlFJ,EAAA,iBAAA,6LAAA,GAEM;YAFS,SAA6B,EAA7B,6BAA6B;oCAC1C,6LAAA,EAAuF;gBAAxE,SAAwD,CAAxD,CAAA,CAAA,gCAAA,EAAmCjB,MAAM,CAAAI,YAAa,EAAC,CAAC;0BAAE,SAAS,EAAlF,EAAuF,CACzF,EAFA,GAEM;;;;;;;;;;;QAAAc,CAAA,CAAA,EAAA,GAAAD,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAC,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAK,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAGNE,EAAA,iBAAA,6LAAA,GAIM;YAJS,SAAW,EAAX,WAAW,CACvB;sBAAAd,YAAY,CAAA6B,GAAI,CAACa,MAEjB,EACH,EAJA,GAIM;;;;;;QAAAjC,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAO,EAAA;IAAA,IAAAP,CAAA,CAAA,EAAA,KAAA2B,SAAA,IAAA3B,CAAA,CAAA,EAAA,KAAA0B,MAAA,IAAA1B,CAAA,CAAA,EAAA,KAAAyB,IAAA,EAAA;QAGNlB,EAAA,iBAAA,6LAAA,GA0BM;YA1BS,SAAwD,EAAxD,wDAAwD,CACpE;sBAAAkB,IAAI,iBACH,6LAAA,GAeM;gBAfS,SAAyH,EAAzH,yHAAyH;;kCACtI,6LAAA,GAOM;wBAPS,SAA6B,EAA7B,6BAA6B;;0CAC1C,6LAAA,GAIE;gCAHKE,GAAS,CAATA,CAAAA,SAAQ,CAAC;gCACV,GAAS,EAAT,SAAS;gCACH,SAA+C,EAA/C,+CAA+C;;;;;;0CAE3D,6LAAA,IAAsE;gCAAtD,SAAmC,EAAnC,mCAAmC,CAAE;0CAAAF,IAAI,CAAA/B,IAAI,CAAE,EAA/D,IAAsE,CACxE,EAPA,GAOM;;;;;;;;;;;;kCACN,6LAAA,MAKS;wBAJEgC,OAAM,CAANA,CAAAA,MAAK,CAAC;wBACL,SAAqE,EAArE,qEAAqE;kCAChF,MAED,EALA,MAKS,CACX,EAfA,GAeM,CAQP;;;;;;;;;;;yEANC,6LAAA,CAKI;gBAJG,IAAa,EAAb,aAAa;gBACR,SAA2J,EAA3J,2JAA2J;0BACtK,KAED,EALA,CAKI,CACN,CACF,EA1BA,GA0BM;;;;;;;;;;;QAAA1B,CAAA,CAAA,EAAA,GAAA2B,SAAA;QAAA3B,CAAA,CAAA,EAAA,GAAA0B,MAAA;QAAA1B,CAAA,CAAA,EAAA,GAAAyB,IAAA;QAAAzB,CAAA,CAAA,EAAA,GAAAO,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAP,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAU,EAAA;IAAA,IAAAV,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAMJO,EAAA,iBAAA,6LAAA,GAGM;YAHU,SAAoD,CAApD,CAAA,CAAA,0BAAA,EAA6B5B,MAAM,CAAAK,cAAe,EAAC,CAAC;;8BAClE,6LAAC,6MAAI;oBAAY,SAAqC,CAArC,CAAA,CAAA,aAAA,EAAgBL,MAAM,CAAAI,YAAa,EAAC,CAAC;;;;;;8BACtD,6LAAA,IAAsD;oBAArC,SAAmB,CAAnB,CAAAJ,MAAM,CAAAI,YAAY,CAAC;8BAAE,SAAS,EAA/C,IAAsD,CACxD,EAHA,GAGM;;;;;;;;;;;;QAAAc,CAAA,CAAA,EAAA,GAAAU,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAV,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAW,EAAA;IAAA,IAAAX,CAAA,CAAA,EAAA,KAAAuB,UAAA,EAAA;QAKQZ,EAAA,GAAAA,CAAA,GAAMa,aAAa,CAAC,CAACD,UAAU,CAAC;QAAAvB,CAAA,CAAA,EAAA,GAAAuB,UAAA;QAAAvB,CAAA,CAAA,EAAA,GAAAW,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAX,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAY,EAAA;IAAA,IAAAZ,CAAA,CAAA,GAAA,KAAAuB,UAAA,IAAAvB,CAAA,CAAA,GAAA,KAAAW,EAAA,EAAA;QAH5CC,EAAA,iBAAA,6LAAA,KAKE;YAJK,IAAU,EAAV,UAAU;YACNW,OAAU,CAAVA,CAAAA,UAAS,CAAC;YACT,QAAgC,CAAhC,CAAAZ,EAA+B,CAAC;YAChC,SAAc,EAAd,cAAc,GACxB;;;;;;QAAAX,CAAA,CAAA,GAAA,GAAAuB,UAAA;QAAAvB,CAAA,CAAA,GAAA,GAAAW,EAAA;QAAAX,CAAA,CAAA,GAAA,GAAAY,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAZ,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAa,EAAA;IAAA,IAAAb,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACFU,EAAA,iBAAA,6LAAA,GAEO;YADM,SAAqH,CAArH,CAAA,CAAA,SAAA,EAAY/B,MAAM,CAAAE,oBAAqB,CAAA,4EAAA,CAA6E,CAAC,GAC3H;;;;;;QAAAgB,CAAA,CAAA,GAAA,GAAAa,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAb,CAAA,CAAA,GAAA;IAAA;IAEM,MAAAkC,EAAA,GAAA,CAAA,6FAAA,EACTX,UAAU,GAAV,6BAAqE,GAArE,wBAAqE,EACrE;IAAA,IAAAY,EAAA;IAAA,IAAAnC,CAAA,CAAA,GAAA,KAAAkC,EAAA,EAAA;QAHJC,EAAA,iBAAA,6LAAA,GAIO;YAHM,SAET,CAFS,CAAAD,EAEV,CAAC,GACG;;;;;;QAAAlC,CAAA,CAAA,GAAA,GAAAkC,EAAA;QAAAlC,CAAA,CAAA,GAAA,GAAAmC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAnC,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAoC,EAAA;IAAA,IAAApC,CAAA,CAAA,GAAA,KAAAY,EAAA,IAAAZ,CAAA,CAAA,GAAA,KAAAmC,EAAA,EAAA;QArBXC,EAAA,iBAAA,6LAAA,GAuBM;YAtBO,SAA4H,CAA5H,CAAA,CAAA,IAAA,EAAOtD,MAAM,CAAAE,oBAAqB,CAAA,mBAAA,EAAsBF,MAAM,CAAAG,YAAa,CAAA,+CAAA,CAAgD,CAAC,CAEvI;;gBAAAyB,EAGK;8BACL,6LAAA,KAeQ;oBAfS,SAAkD,EAAlD,kDAAkD,CACjE;;wBAAAE,EAKC,CACD;wBAAAC,EAEM,CACN;wBAAAsB,EAIM,CACR,EAfA,KAeQ,CACV,EAvBA,GAuBM;;;;;;;;;;;;;QAAAnC,CAAA,CAAA,GAAA,GAAAY,EAAA;QAAAZ,CAAA,CAAA,GAAA,GAAAmC,EAAA;QAAAnC,CAAA,CAAA,GAAA,GAAAoC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAApC,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAqC,GAAA;IAAA,IAAArC,CAAA,CAAA,GAAA,KAAAO,EAAA,IAAAP,CAAA,CAAA,GAAA,KAAAoC,EAAA,EAAA;QApERC,GAAA,iBAAA,6LAAA,KAqEQ;YApEK,SAAyI,CAAzI,CAAA,CAAA,cAAA,EAAiBvD,MAAM,CAAAC,kBAAmB,CAAA,CAAA,EAAID,MAAM,CAAAI,YAAa,CAAA,gDAAA,EAAmDJ,MAAM,CAAAG,YAAa,EAAC,CAAC,CAGpJ;;gBAAAc,EAEK,CAGL;gBAAAM,EAIK,CAGL;gBAAAE,EA0BK,CAGL;gBAAA6B,EAuBK,CACP,EArEA,KAqEQ;;;;;;;QAAApC,CAAA,CAAA,GAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,GAAA,GAAAoC,EAAA;QAAApC,CAAA,CAAA,GAAA,GAAAqC,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAArC,CAAA,CAAA,GAAA;IAAA;IAAA,OArERqC,GAqEQ;AAAA,CAEX;;;QA/E0BxD,qIAAO,CAAC,CAAC;;;MAF9ByC,OAAO;uCAmFEA,OAAO;AAxHL,SAAAb,MAAA,GAAA;AAeG,SAAAY,OAAAiB,IAAA,EAAAC,KAAA;IAAA,qBAcR,6LAAC,QAAQ,CAAMA,GAAK,CAALA;QAAK,GAAMD,IAAI,IAAI;OAAnBC,KAAI,CAAC;;;;;AAAc;AAQ9B,SAAAN,OAAAlB,OAAA,EAAAwB,KAAA;IAAA,qBAqBN,6LAAC,WAAW,CAAMA,GAAK,CAALA;QAAgBxB,OAAO,CAAPA,CAAAA,OAAM,CAAC,GAAI;OAA3BwB,KAAI,CAAC;;;;;AAAsB","ignoreList":[],"debugId":null}},
    {"offset": {"line": 542, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/posts/PostContentModal.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { X, Image, Video, Smile } from \"lucide-react\";\r\nimport EmojiPicker, { EmojiClickData } from \"emoji-picker-react\";\r\nimport { useAuth } from \"@/context/AuthContext\"; \r\n\r\ninterface MediaItem {\r\n  file: File;\r\n  preview: string;\r\n  type: \"image\" | \"video\";\r\n}\r\n\r\ninterface PostContentModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onPostSuccess?: () => void;\r\n  initialMedia?: MediaItem[];\r\n}\r\n\r\ninterface VideoUploadModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onNext: (videoFile: File | null, videoPreview: string | null) => void;\r\n}\r\n\r\nconst VideoUploadModal: React.FC<VideoUploadModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onNext,\r\n}) => {\r\n  const [videoFile, setVideoFile] = useState<File | null>(null);\r\n  const [videoPreview, setVideoPreview] = useState<string | null>(null);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleVideoSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      setVideoFile(e.target.files[0]);\r\n      setVideoPreview(URL.createObjectURL(e.target.files[0]));\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent<HTMLDivElement>) => {\r\n    e.preventDefault();\r\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\r\n      setVideoFile(e.dataTransfer.files[0]);\r\n      setVideoPreview(URL.createObjectURL(e.dataTransfer.files[0]));\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    onNext(videoFile, videoPreview);\r\n    setVideoFile(null);\r\n    setVideoPreview(null);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white dark:bg-gray-800 p-6 rounded-lg w-full max-w-md relative\">\r\n        <button\r\n          className=\"absolute top-3 right-3 text-gray-500 dark:text-gray-300\"\r\n          onClick={() => {\r\n            if (videoPreview) URL.revokeObjectURL(videoPreview);\r\n            setVideoFile(null);\r\n            setVideoPreview(null);\r\n            onClose();\r\n          }}\r\n        >\r\n          <X className=\"w-5 h-5\" />\r\n        </button>\r\n\r\n        <h2 className=\"text-lg font-semibold mb-4 text-gray-900 dark:text-white\">\r\n          Attach Video\r\n        </h2>\r\n\r\n        <div\r\n          className=\"border-2 border-dashed border-gray-400 dark:border-gray-600 rounded-md p-6 text-center cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition duration-150\"\r\n          onDrop={handleDrop}\r\n          onDragOver={(e) => e.preventDefault()}\r\n        >\r\n          {videoPreview ? (\r\n            <video\r\n              src={videoPreview}\r\n              controls\r\n              className=\"w-full max-h-60 rounded-md\"\r\n            />\r\n          ) : (\r\n            <>\r\n              <p className=\"text-gray-700 dark:text-gray-200 mb-2\">\r\n                Drag & Drop your video here\r\n              </p>\r\n              <label className=\"text-blue-600 dark:text-blue-400 underline cursor-pointer\">\r\n                or select from your computer\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"video/*\"\r\n                  onChange={handleVideoSelect}\r\n                  className=\"hidden\"\r\n                />\r\n              </label>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          onClick={handleNext}\r\n          disabled={!videoFile}\r\n          className={`mt-4 w-full px-4 py-2 rounded-md font-semibold transition duration-150 ${\r\n            videoFile\r\n              ? \"bg-blue-600 text-white hover:bg-blue-700\"\r\n              : \"bg-gray-300 text-gray-500 cursor-not-allowed\"\r\n          }`}\r\n        >\r\n          Next\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nconst PostContentModal: React.FC<PostContentModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onPostSuccess,\r\n  initialMedia,\r\n}) => {\r\n  const { user } = useAuth(); \r\n  const [content, setContent] = useState(\"\");\r\n  const [media, setMedia] = useState<MediaItem[]>(initialMedia || []);\r\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\r\n  const [showVideoModal, setShowVideoModal] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  // reset state when the modal opens/closes or initialMedia prop changes\r\n  useEffect(() => {\r\n    setMedia(initialMedia || []);\r\n    setContent(\"\");\r\n  }, [initialMedia, isOpen]); \r\n\r\n  // separate useEffect for cleaning up Object URLs when media state changes or component unmounts\r\n  useEffect(() => {\r\n    return () => {\r\n      media.forEach(item => URL.revokeObjectURL(item.preview));\r\n    };\r\n  }, [media]); \r\n\r\n\r\n  const handleMediaSelect = (\r\n    e: React.ChangeEvent<HTMLInputElement>,\r\n    type: \"image\" | \"video\"\r\n  ) => {\r\n    if (!e.target.files) return;\r\n    const filesArray = Array.from(e.target.files).map((file) => ({\r\n      file,\r\n      preview: URL.createObjectURL(file),\r\n      type,\r\n    }));\r\n    setMedia((prev) => [...prev, ...filesArray]);\r\n    e.target.value = ''; // Reset file input\r\n  };\r\n\r\n  const handleRemoveMedia = (index: number) => {\r\n    const removed = media[index];\r\n    if (removed.preview) URL.revokeObjectURL(removed.preview);\r\n    setMedia((prev) => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleEmojiClick = (emojiData: EmojiClickData) => {\r\n    setContent((prev) => prev + emojiData.emoji);\r\n    setShowEmojiPicker(false);\r\n  };\r\n\r\n  const handleVideoNext = (file: File | null, preview: string | null) => {\r\n    if (!file || !preview) return;\r\n    setMedia((prev) => [...prev, { file, preview, type: \"video\" }]);\r\n  };\r\n\r\n  // robust close handler that cleans up URLs and resets state\r\n  const handleClose = () => {\r\n    media.forEach(item => URL.revokeObjectURL(item.preview)); \r\n    setMedia([]); \r\n    setContent(\"\"); \r\n    onClose(); \r\n  };\r\n\r\n  const handlePostClick = async () => {\r\n    if (!content.trim() && media.length === 0) return;\r\n    setLoading(true);\r\n\r\n    // checking for user token\r\n    if (!user || !user.token) {\r\n        console.error(\"❌ Post failed: User is not authenticated or token is missing.\");\r\n        alert(\"Authentication failed. Please log in again.\");\r\n        setLoading(false);\r\n        return;\r\n    }\r\n    \r\n    let mediaCleanup: string[] = [];\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"text\", content);\r\n      \r\n      media.forEach((item) => {\r\n      \r\n        formData.append(`mediaFile`, item.file); \r\n        formData.append(`mediaType`, item.type); \r\n        mediaCleanup.push(item.preview);\r\n      });\r\n\r\n      const res = await fetch(\"/api/posts\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n        body: formData,\r\n      });\r\n\r\n      if (!res.ok) {\r\n        throw new Error(`Failed to create post. Status: ${res.status}`); \r\n      }\r\n\r\n      onPostSuccess?.();\r\n      handleClose(); \r\n    } catch (error) {\r\n      console.error(\"❌ Post failed:\", error);\r\n      alert(\"Failed to upload post: \" + (error as Error).message);\r\n    } finally {\r\n      setLoading(false);\r\n      mediaCleanup.forEach(url => URL.revokeObjectURL(url));\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg w-full max-w-3xl relative p-6\">\r\n          <button\r\n            className=\"absolute top-3 right-3 text-gray-500 dark:text-gray-300\"\r\n            onClick={handleClose}\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n\r\n          {/* Profile */}\r\n          <div className=\"flex items-center mb-4\">\r\n            <img\r\n              src={user?.profilePic || \"https://picsum.photos/200\"}\r\n              alt=\"Profile\"\r\n              className=\"w-10 h-10 rounded-full object-cover mr-3\"\r\n            />\r\n            <span className=\"font-semibold text-gray-800 dark:text-gray-100\">\r\n              {user?.name || \"John Doe\"}\r\n            </span>\r\n          </div>\r\n\r\n          {/* Textarea */}\r\n          <textarea\r\n            rows={6}\r\n            placeholder=\"Write something...\"\r\n            className=\"w-full bg-gray-100 dark:bg-gray-700 rounded-md p-3 text-gray-700 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-600 resize-none mb-3\"\r\n            value={content}\r\n            onChange={(e) => setContent(e.target.value)}\r\n          />\r\n\r\n          {/* Media Preview */}\r\n          {media.length > 0 && (\r\n            <div className=\"flex flex-wrap gap-2 mb-3 max-h-60 overflow-y-auto\">\r\n              {media.map((item, idx) => (\r\n                <div key={idx} className=\"relative\">\r\n                  {item.type === \"image\" ? (\r\n                    <img\r\n                      src={item.preview}\r\n                      alt=\"attachment\"\r\n                      className=\"w-24 h-24 object-cover rounded-md\"\r\n                    />\r\n                  ) : (\r\n                    <video\r\n                      src={item.preview}\r\n                      controls\r\n                      className=\"w-24 h-24 object-cover rounded-md\"\r\n                    />\r\n                  )}\r\n                  <button\r\n                    onClick={() => handleRemoveMedia(idx)}\r\n                    className=\"absolute top-1 right-1 bg-black bg-opacity-50 rounded-full w-6 h-6 flex items-center justify-center text-white text-sm\"\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* Toolbar */}\r\n          <div className=\"flex items-center space-x-2 relative\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowEmojiPicker((prev) => !prev)}\r\n              className=\"p-2 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600\"\r\n            >\r\n              <Smile className=\"w-5 h-5 text-gray-600 dark:text-gray-300\" />\r\n            </button>\r\n            {showEmojiPicker && (\r\n              <div className=\"absolute z-50 mt-12\">\r\n                <EmojiPicker onEmojiClick={handleEmojiClick} />\r\n              </div>\r\n            )}\r\n\r\n            <label className=\"p-2 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 cursor-pointer\">\r\n              <Image className=\"w-5 h-5 text-gray-600 dark:text-gray-300\" />\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                multiple\r\n                onChange={(e) => handleMediaSelect(e, \"image\")}\r\n                className=\"hidden\"\r\n              />\r\n            </label>\r\n\r\n            <button\r\n              onClick={() => setShowVideoModal(true)}\r\n              className=\"p-2 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600\"\r\n            >\r\n              <Video className=\"w-5 h-5 text-gray-600 dark:text-gray-300\" />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Post Button */}\r\n          <button\r\n            onClick={handlePostClick}\r\n            disabled={loading || (!content.trim() && media.length === 0)}\r\n            className={`mt-4 w-full px-4 py-2 rounded-md font-semibold transition duration-150 ${\r\n              loading\r\n                ? \"bg-gray-400 text-white\"\r\n                : content.trim() || media.length > 0\r\n                ? \"bg-blue-600 text-white hover:bg-blue-700\"\r\n                : \"bg-gray-300 text-gray-500 cursor-not-allowed\"\r\n            }`}\r\n          >\r\n            {loading ? \"Posting...\" : \"Post\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Video Upload Modal */}\r\n      <VideoUploadModal\r\n        isOpen={showVideoModal}\r\n        onClose={() => setShowVideoModal(false)}\r\n        onNext={handleVideoNext}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PostContentModal;"],"names":["c","_c","React","useState","useEffect","X","Image","Video","Smile","EmojiPicker","EmojiClickData","useAuth","MediaItem","file","File","preview","type","PostContentModalProps","isOpen","onClose","onPostSuccess","initialMedia","VideoUploadModalProps","onNext","videoFile","videoPreview","VideoUploadModal","FC","t0","$","$i","Symbol","for","setVideoFile","setVideoPreview","t1","e","target","files","URL","createObjectURL","handleVideoSelect","t2","e_0","preventDefault","dataTransfer","handleDrop","t3","handleNext","t4","revokeObjectURL","t5","t6","t7","t8","_temp","t9","t10","t11","t12","PostContentModal","user","content","setContent","media","setMedia","showEmojiPicker","setShowEmojiPicker","showVideoModal","setShowVideoModal","loading","setLoading","forEach","item","handleMediaSelect","ChangeEvent","HTMLInputElement","filesArray","Array","from","map","prev","value","handleRemoveMedia","index","removed","filter","_","i","handleEmojiClick","emojiData","emoji","handleVideoNext","handleClose","handlePostClick","trim","length","token","console","error","alert","mediaCleanup","formData","FormData","append","push","res","fetch","method","headers","Authorization","body","ok","Error","status","message","url","profilePic","name","idx","e_1"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1138, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/posts/PostCreator.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { Edit, MoreHorizontal } from \"lucide-react\";\r\nimport PostContentModal from \"./PostContentModal\";\r\nimport { useAuth } from \"@/context/AuthContext\"; \r\n\r\nconst MOCK_AVATAR = \"https://picsum.photos/40/40?random=1\";\r\n\r\nconst PostCreator: React.FC = () => {\r\n  const [isPostModalOpen, setPostModalOpen] = useState(false);\r\n  const [attachedVideo, setAttachedVideo] = useState<File | null>(null);\r\n  const [attachedVideoPreview, setAttachedVideoPreview] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { user, token } = useAuth(); \r\n\r\n  const handlePost = async (content: string, videoFile?: File | null) => {\r\n    if (!user) {\r\n      alert(\"You must be logged in to post.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n\r\n      const formData = new FormData();\r\n      formData.append(\"text\", content);\r\n\r\n      if (videoFile) {\r\n        formData.append(\"media\", videoFile);\r\n        formData.append(\"mediaType\", \"video\");\r\n      }\r\n\r\n      const res = await fetch(\"/api/posts\", {\r\n        method: \"POST\",\r\n        body: formData,\r\n        credentials: \"include\",\r\n        headers: token\r\n          ? {\r\n              Authorization: `Bearer ${token}`, \r\n            }\r\n          : {},\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (res.ok) {\r\n        console.log(\"✅ Post created successfully:\", data);\r\n        setAttachedVideo(null);\r\n        setAttachedVideoPreview(null);\r\n        setPostModalOpen(false);\r\n      } else {\r\n        console.error(\"❌ Error creating post:\", data.message);\r\n        alert(`Failed to post: ${data.message}`);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"❌ Request failed:\", err);\r\n      alert(\"Something went wrong while posting.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-[#131313] rounded-xs shadow-lg dark:shadow-2xl p-4 w-full mx-auto border border-gray-200 dark:border-gray-700\">\r\n      {/* Top Bar */}\r\n      <div className=\"flex justify-start border-b border-gray-200 dark:border-gray-700 pb-3 mb-3 text-sm md:text-base\">\r\n        <div\r\n          className=\"flex items-center space-x-2 text-gray-900 dark:text-white font-semibold cursor-pointer p-2 rounded-md transition duration-150 relative after:absolute after:bottom-[-13px] after:left-0 after:right-0 after:h-0.5 after:bg-gray-900 dark:after:bg-white\"\r\n          onClick={() => setPostModalOpen(true)}\r\n        >\r\n          <Edit className=\"w-5 h-5\" />\r\n          <span>Make Post</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Text Input */}\r\n      <div\r\n        className=\"flex space-x-3 items-start mb-4 cursor-text\"\r\n        onClick={() => setPostModalOpen(true)}\r\n      >\r\n        <img\r\n          src={user?.avatarUrl || MOCK_AVATAR}\r\n          alt=\"User Avatar\"\r\n          className=\"w-10 h-10 rounded-lg object-cover ring-2 ring-gray-400 dark:ring-gray-600\"\r\n        />\r\n        <textarea\r\n          rows={3}\r\n          placeholder=\"What you doing? Where you at? Oh you got plans? Please share that!\"\r\n          className=\"flex-1 bg-gray-100 dark:bg-gray-700 border-none rounded-md py-2 px-4 text-gray-700 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-gray-600 resize-none transition duration-150\"\r\n          readOnly\r\n        />\r\n      </div>\r\n\r\n      {/* Post Modal */}\r\n      <PostContentModal\r\n        isOpen={isPostModalOpen}\r\n        onClose={() => setPostModalOpen(false)}\r\n        onPost={handlePost}\r\n        initialVideoFile={attachedVideo}\r\n        initialVideoPreview={attachedVideoPreview}\r\n        loading={loading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCreator;\r\n"],"names":["React","useState","Edit","MoreHorizontal","PostContentModal","useAuth","MOCK_AVATAR","PostCreator","FC","isPostModalOpen","setPostModalOpen","attachedVideo","setAttachedVideo","File","attachedVideoPreview","setAttachedVideoPreview","loading","setLoading","user","token","handlePost","content","videoFile","alert","formData","FormData","append","res","fetch","method","body","credentials","headers","Authorization","data","json","ok","console","log","error","message","err","avatarUrl"],"mappings":";;;;;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,IAAI,EAAEC,cAAc,QAAQ,cAAc;AACnD,OAAOC,gBAAgB,MAAM,oBAAoB;AACjD,SAASC,OAAO,QAAQ,uBAAuB;;;AAJ/C,YAAY;;;;;AAMZ,MAAMC,WAAW,GAAG,sCAAsC;AAE1D,oBAA8BC,CAAA,KAAM;;IAClC,MAAM,CAACE,eAAe,EAAEC,gBAAgB,CAAC,OAAGT,yKAAQ,EAAC,KAAK,CAAC;IAC3D,MAAM,CAACU,aAAa,EAAEC,gBAAgB,CAAC,OAAGX,yKAAQ,CAACY,CAAa,GAAT,CAAa,CAAC,CAAX,IAAI,CAAC;IAC/D,MAAM,CAACC,oBAAoB,EAAEC,uBAAuB,CAAC,OAAGd,yKAAQ,CAAC,CAAe,IAAI,CAAb,AAAc,GAAX,IAAI,CAAC;IAC/E,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,OAAGhB,yKAAQ,EAAC,KAAK,CAAC;IAE7C,MAAM,EAAEiB,IAAI,EAAEC,KAAAA,EAAO;IAErB,MAAMC,UAAU,GAAG,MAAAA,CAAOC,OAAO,EAAE,AAAQC,MAAF,GAAyB,CAAb,EAAET,IAAI,GAAG,IAAI,KAAK;QACrE,IAAI,CAACK,IAAI,EAAE;YACTK,KAAK,CAAC,gCAAgC,CAAC;YACvC;QACF;QAEA,IAAI;YACFN,UAAU,CAAC,IAAI,CAAC;YAEhB,MAAMO,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;YAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEL,OAAO,CAAC;YAEhC,IAAIC,SAAS,EAAE;gBACbE,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEJ,SAAS,CAAC;gBACnCE,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAE,OAAO,CAAC;YACvC;YAEA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,YAAY,EAAE;gBACpCC,MAAM,EAAE,MAAM;gBACdC,IAAI,EAAEN,QAAQ;gBACdO,WAAW,EAAE,SAAS;gBACtBC,OAAO,EAAEb,KAAK,GACV;oBACEc,aAAa,EAAE,CAAA,OAAA,EAAUd,KAAK,EAAA;gBAChC,CAAC,GACD,CAAC;YACP,CAAC,CAAC;YAEF,MAAMe,IAAI,GAAG,MAAMP,GAAG,CAACQ,IAAI,CAAC,CAAC;YAE7B,IAAIR,GAAG,CAACS,EAAE,EAAE;gBACVC,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEJ,IAAI,CAAC;gBACjDtB,gBAAgB,CAAC,IAAI,CAAC;gBACtBG,uBAAuB,CAAC,IAAI,CAAC;gBAC7BL,gBAAgB,CAAC,KAAK,CAAC;YACzB,CAAC,MAAM;gBACL2B,OAAO,CAACE,KAAK,CAAC,wBAAwB,EAAEL,IAAI,CAACM,OAAO,CAAC;gBACrDjB,KAAK,CAAC,CAAA,gBAAA,EAAmBW,IAAI,CAACM,OAAO,EAAE,CAAC;YAC1C;QACF,CAAC,CAAC,OAAOC,GAAG,EAAE;YACZJ,OAAO,CAACE,KAAK,CAAC,mBAAmB,EAAEE,GAAG,CAAC;YACvClB,KAAK,CAAC,qCAAqC,CAAC;QAC9C,CAAC,QAAS;YACRN,UAAU,CAAC,KAAK,CAAC;QACnB;IACF,CAAC;IAED,qBACE,6LAAC,GAAG;QAAC,SAAS,EAAC,gIAAgI,CAAC;;0BAE9I,6LAAC,GAAG;gBAAC,SAAS,EAAC,iGAAiG,CAAC;wCAC/G,6LAAC,GAAG;oBACF,SAAS,EAAC,yPAAyP;oBACnQ,OAAO,CAAC,CAAC,IAAMP,gBAAgB,CAAC,IAAI,CAAC,CAAC,CACvC;;sCACC,6LAAC,sNAAI;4BAAC,SAAS,EAAC,SAAS,GAAG;;;;;;sCAC5B,6LAAC,IAAI;sCAAC,SAAS,EAAE,IAAI,CAAC;;;;;;;;;;;;;;;;;0BAK1B,6LAAC,GAAG;gBACF,SAAS,EAAC,6CAA6C;gBACvD,OAAO,CAAC,CAAC,IAAMA,gBAAgB,CAAC,IAAI,CAAC,CAAC,CACvC;;kCACC,6LAAC,GAAG;wBACF,GAAG,CAAC,CAACQ,IAAI,EAAEwB,SAAS,IAAIpC,WAAW,CAAC;wBACpC,GAAG,EAAC,aAAa;wBACjB,SAAS,EAAC,2EAA2E,GACrF;;;;;;kCACF,6LAAC,QAAQ;wBACP,IAAI,CAAC,CAAC,CAAC,CAAC;wBACR,WAAW,EAAC,oEAAoE;wBAChF,SAAS,EAAC,uQAAuQ;wBACjR,QAAQ,GACR;;;;;;;;;;;;0BAIJ,6LAAC,sJAAgB;gBACf,MAAM,CAAC,CAACG,eAAe,CAAC;gBACxB,OAAO,CAAC,CAAC,IAAMC,gBAAgB,CAAC,KAAK,CAAC,CAAC;gBACvC,MAAM,CAAC,CAACU,UAAU,CAAC;gBACnB,gBAAgB,CAAC,CAACT,aAAa,CAAC;gBAChC,mBAAmB,CAAC,CAACG,oBAAoB,CAAC;gBAC1C,OAAO,CAAC,CAACE,OAAO,CAAC,GACjB;;;;;;;;;;;;AAGR,CAAC;;;QA3FyBX,qIAAO,CAAC,CAAC;;;KAN7BE,WAAW,EAAEP,KAAK,CAACQ,EAAE;uCAmGZD,WAAW","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1298, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/comments/CommentThread.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { ArrowRight } from \"lucide-react\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n\r\nexport interface CommentType {\r\n  _id: string;\r\n  text: string;\r\n  author?: {\r\n    _id: string;\r\n    name: string;\r\n    avatarUrl: string;\r\n  };\r\n  replies?: CommentType[];\r\n  likes?: string[];\r\n  likedByMe?: boolean;\r\n  likesCount?: number;\r\n}\r\n\r\ninterface CommentThreadProps {\r\n  comment: CommentType;\r\n  postId: string;\r\n  parentCommentId?: string;\r\n  onReplyAdded?: (reply: CommentType) => void;\r\n}\r\n\r\nconst BASE_URL = process.env.NEXT_PUBLIC_BASE_URL || \"\";\r\n\r\nconst CommentThread: React.FC<CommentThreadProps> = ({\r\n  comment,\r\n  postId,\r\n  parentCommentId,\r\n  onReplyAdded,\r\n}) => {\r\n  const { user } = useAuth();\r\n\r\n  const topCommentId = parentCommentId || comment._id;\r\n\r\n  const [liked, setLiked] = useState(comment.likedByMe || false);\r\n  const [likesCount, setLikesCount] = useState(\r\n    comment.likesCount || comment.likes?.length || 0\r\n  );\r\n  const [showReplyInput, setShowReplyInput] = useState(false);\r\n  const [showReplies, setShowReplies] = useState(true);\r\n  const [replyText, setReplyText] = useState(\"\");\r\n  const [replies, setReplies] = useState<CommentType[]>(comment.replies || []);\r\n\r\n  const [loadingLike, setLoadingLike] = useState(false);\r\n  const [loadingReply, setLoadingReply] = useState(false);\r\n\r\n  const handleLike = async () => {\r\n    if (loadingLike || !user?.token) return;\r\n\r\n    setLoadingLike(true);\r\n    try {\r\n      const res = await fetch(`${BASE_URL}/api/comments/likes/${comment._id}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (res.ok && data.success) {\r\n        setLiked(!liked);\r\n        setLikesCount(data.likes);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error liking comment:\", err);\r\n    } finally {\r\n      setLoadingLike(false);\r\n    }\r\n  };\r\n\r\n  const handleAddReply = async (text: string) => {\r\n    const userId = user?._id || user?.id || user?.userId || user?.user?._id;\r\n\r\n    if (!text.trim() || !userId) {\r\n      console.error(\"User ID missing → cannot send reply\");\r\n      return;\r\n    }\r\n\r\n    setLoadingReply(true);\r\n\r\n    try {\r\n      const res = await fetch(`/api/comments/replies/${topCommentId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          userId,\r\n          text,\r\n          emojis: [],\r\n        }),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (!res.ok) {\r\n        console.error(\"Error adding reply:\", data.error);\r\n        return;\r\n      }\r\n\r\n      const newReply = data.reply;\r\n      setReplies((prev) => [...prev, newReply]);\r\n      setReplyText(\"\");\r\n      setShowReplyInput(false);\r\n    } catch (err) {\r\n      console.error(\"Error adding reply:\", err);\r\n    } finally {\r\n      setLoadingReply(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"ml-0 mt-3\">\r\n      <div className=\"flex items-start space-x-2\">\r\n        <img\r\n          src={comment.author?.avatarUrl || \"/default-avatar.png\"}\r\n          alt={comment.author?.name || \"Unknown\"}\r\n          className=\"w-8 h-8 rounded-lg object-cover ring-1 ring-gray-300 dark:ring-gray-600\"\r\n        />\r\n\r\n        <div className=\"flex-1\">\r\n          <div className=\"bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-lg text-sm\">\r\n            <span className=\"font-semibold text-gray-800 dark:text-gray-200\">\r\n              {comment.author?.name || \"Unknown\"}\r\n            </span>{\" \"}\r\n            {comment.text}\r\n          </div>\r\n\r\n          <div className=\"flex space-x-4 text-xs text-gray-500 dark:text-gray-400 mt-1 ml-1\">\r\n            <button\r\n              onClick={handleLike}\r\n              disabled={loadingLike}\r\n              className={`hover:underline flex items-center space-x-1 ${\r\n                liked ? \"text-red-500\" : \"\"\r\n              }`}\r\n            >\r\n              Like ({likesCount})\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => setShowReplyInput(!showReplyInput)}\r\n              className=\"hover:underline\"\r\n            >\r\n              Reply\r\n            </button>\r\n\r\n            {replies.length > 0 && (\r\n              <button onClick={() => setShowReplies(!showReplies)}>\r\n                {showReplies\r\n                  ? \"Hide Replies\"\r\n                  : `Show Replies (${replies.length})`}\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {showReplyInput && (\r\n            <div className=\"flex items-center space-x-2 mt-2 ml-2\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"flex-1 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-md py-1 px-2 text-sm\"\r\n                placeholder=\"Write a reply...\"\r\n                value={replyText}\r\n                onChange={(e) => setReplyText(e.target.value)}\r\n                onKeyDown={(e) =>\r\n                  e.key === \"Enter\" && handleAddReply(replyText)\r\n                }\r\n              />\r\n              <button\r\n                onClick={() => handleAddReply(replyText)}\r\n                disabled={loadingReply}\r\n              >\r\n                <ArrowRight className=\"w-5 h-5 text-gray-500\" />\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {showReplies && replies.length > 0 && (\r\n            <div className=\"ml-6 border-l border-gray-300 pl-4 mt-2 space-y-3\">\r\n              {replies.map((reply) => (\r\n                <CommentThread\r\n                  key={reply._id}\r\n                  comment={reply}\r\n                  postId={postId}\r\n                  parentCommentId={topCommentId}\r\n                  onReplyAdded={(newReply) => {\r\n                    setReplies((prev) =>\r\n                      prev.map((r) =>\r\n                        r._id === reply._id\r\n                          ? { ...r, replies: [...(r.replies || []), newReply] }\r\n                          : r\r\n                      )\r\n                    );\r\n                  }}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentThread;\r\n"],"names":["React","useState","ArrowRight","useAuth","CommentType","_id","text","author","name","avatarUrl","replies","likes","likedByMe","likesCount","CommentThreadProps","comment","postId","parentCommentId","onReplyAdded","reply","BASE_URL","process","env","NEXT_PUBLIC_BASE_URL","CommentThread","FC","user","topCommentId","liked","setLiked","setLikesCount","length","showReplyInput","setShowReplyInput","showReplies","setShowReplies","replyText","setReplyText","setReplies","loadingLike","setLoadingLike","loadingReply","setLoadingReply","handleLike","token","res","fetch","method","headers","Authorization","data","json","ok","success","err","console","error","handleAddReply","userId","id","trim","body","JSON","stringify","emojis","newReply","prev","e","target","value","key","map","r"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1557, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/comments/Comment.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { ArrowRight } from \"lucide-react\";\r\nimport CommentThread, { CommentType } from \"./CommentThread\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n\r\ninterface CommentProps {\r\n  currentUserCommentAvatar: string;\r\n  postId: string;\r\n}\r\n\r\nconst Comment: React.FC<CommentProps> = ({\r\n  currentUserCommentAvatar,\r\n  postId,\r\n}) => {\r\n  const { user } = useAuth();\r\n  const [comments, setComments] = useState<CommentType[]>([]);\r\n  const [newComment, setNewComment] = useState(\"\");\r\n  const [showComments, setShowComments] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Fetch comments from backend\r\n  useEffect(() => {\r\n    const fetchComments = async () => {\r\n      if (!postId || !user?.token) return;\r\n      setLoading(true);\r\n      try {\r\n        const res = await fetch(`/api/comments?postId=${postId}`, {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${user.token}`,\r\n          },\r\n        });\r\n        const data = await res.json();\r\n        if (data.success) {\r\n          const mappedComments: CommentType[] = data.comments.map((c: any) => ({\r\n            _id: c._id,\r\n            text: c.text,\r\n            author: {\r\n              _id: c.author?._id || \"unknown\",\r\n              name: c.author?.name || \"Unknown\",\r\n              avatarUrl: c.author?.avatarUrl || \"/default-avatar.png\",\r\n            },\r\n            replies:\r\n              c.replies?.map((r: any) => ({\r\n                _id: r._id,\r\n                text: r.text,\r\n                author: {\r\n                  _id: r.author?._id || \"unknown\",\r\n                  name: r.author?.name || \"Unknown\",\r\n                  avatarUrl: r.author?.avatarUrl || \"/default-avatar.png\",\r\n                },\r\n                replies: [],\r\n                likes: r.likes || [],\r\n                likesCount: r.likes?.length || 0,\r\n                likedByMe: r.likes?.includes(user._id),\r\n              })) || [],\r\n            likes: c.likes || [],\r\n            likesCount: c.likes?.length || 0,\r\n            likedByMe: c.likes?.includes(user._id),\r\n          }));\r\n\r\n          setComments(mappedComments);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch comments:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchComments();\r\n  }, [postId, user?.token]);\r\n\r\n  const toggleComments = () => setShowComments((prev) => !prev);\r\n\r\n  // Add new comment\r\n  const handleAddComment = async () => {\r\n    if (!newComment.trim() || !user?.token) return;\r\n    try {\r\n      const res = await fetch(\"/api/comments\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n        body: JSON.stringify({ postId, text: newComment }),\r\n      });\r\n      const data = await res.json();\r\n      if (data.success) {\r\n        const newC: CommentType = {\r\n          _id: data.comment._id,\r\n          text: data.comment.text,\r\n          author: {\r\n            _id: data.comment.author._id,\r\n            name: data.comment.author.name,\r\n            avatarUrl: data.comment.author.avatarUrl || \"/default-avatar.png\",\r\n          },\r\n          replies: [],\r\n          likes: [],\r\n          likesCount: 0,\r\n          likedByMe: false,\r\n        };\r\n        setComments([newC, ...comments]);\r\n        setNewComment(\"\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Failed to add comment:\", err);\r\n    }\r\n  };\r\n\r\n  // Add reply\r\n  const handleAddReply = async (parentId: string, replyText: string) => {\r\n    if (!replyText.trim() || !user?.token) return;\r\n    try {\r\n      const res = await fetch(`/api/comments/replies/${parentId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n        body: JSON.stringify({ text: replyText }),\r\n      });\r\n      const data = await res.json();\r\n      if (data.success) {\r\n        const addReplyRecursively = (list: CommentType[]): CommentType[] =>\r\n          list.map((comment) => {\r\n            if (comment._id === parentId) {\r\n              const newReply: CommentType = {\r\n                _id: data.comment._id,\r\n                text: data.comment.text,\r\n                author: {\r\n                  _id: data.comment.author._id,\r\n                  name: data.comment.author.name,\r\n                  avatarUrl:\r\n                    data.comment.author.avatarUrl || \"/default-avatar.png\",\r\n                },\r\n                replies: [],\r\n                likes: [],\r\n                likesCount: 0,\r\n                likedByMe: false,\r\n              };\r\n              return { ...comment, replies: [...comment.replies, newReply] };\r\n            }\r\n            if (comment.replies.length > 0) {\r\n              return {\r\n                ...comment,\r\n                replies: addReplyRecursively(comment.replies),\r\n              };\r\n            }\r\n            return comment;\r\n          });\r\n\r\n        setComments((prev) => addReplyRecursively(prev));\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Failed to add reply:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-3\">\r\n      <button\r\n        onClick={toggleComments}\r\n        className=\"text-sm text-blue-500 hover:underline mb-2\"\r\n      >\r\n        {showComments ? \"Hide Comments\" : `View Comments (${comments.length})`}\r\n      </button>\r\n\r\n      {showComments && (\r\n        <div className=\"space-y-3\">\r\n          {loading && <div>Loading comments...</div>}\r\n          {!loading &&\r\n            comments.map((comment) => (\r\n              <CommentThread\r\n                key={comment._id}\r\n                comment={comment}\r\n                postId={postId}\r\n                onReplyAdded={(reply) =>\r\n                  handleAddReply(comment._id, reply.text)\r\n                }\r\n              />\r\n            ))}\r\n\r\n          {/* Add new comment input */}\r\n          <div className=\"flex items-center space-x-3 mt-4\">\r\n            <img\r\n              src={currentUserCommentAvatar}\r\n              alt=\"Your avatar\"\r\n              className=\"w-8 h-8 rounded-lg object-cover ring-1 ring-gray-300 dark:ring-gray-600\"\r\n            />\r\n            <div className=\"flex-1 relative\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Write a comment...\"\r\n                className=\"w-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-md py-2 pl-4 pr-10 text-gray-700 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400 dark:focus:ring-gray-600 transition duration-150 text-sm\"\r\n                value={newComment}\r\n                onChange={(e) => setNewComment(e.target.value)}\r\n                onKeyDown={(e) => e.key === \"Enter\" && handleAddComment()}\r\n              />\r\n              <button\r\n                onClick={handleAddComment}\r\n                className=\"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300\"\r\n              >\r\n                <ArrowRight className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n"],"names":["React","useState","useEffect","ArrowRight","CommentThread","CommentType","useAuth","CommentProps","currentUserCommentAvatar","postId","Comment","FC","user","comments","setComments","newComment","setNewComment","showComments","setShowComments","loading","setLoading","fetchComments","token","res","fetch","method","headers","Authorization","data","json","success","mappedComments","map","c","_id","text","author","name","avatarUrl","replies","r","likes","likesCount","length","likedByMe","includes","err","console","error","toggleComments","prev","handleAddComment","trim","body","JSON","stringify","newC","comment","handleAddReply","parentId","replyText","addReplyRecursively","list","newReply","reply","e","target","value","key"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1849, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/posts/PostCardSkeleton.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\n\r\nconst PostCardSkeleton: React.FC = () => {\r\n  return (\r\n    <div className=\"bg-white dark:bg-[#131313] rounded-lg shadow-lg dark:shadow-2xl p-4 w-full mx-auto border border-gray-200 dark:border-gray-700 mb-6 animate-pulse\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center mb-3\">\r\n        <div className=\"w-10 h-10 bg-gray-300 dark:bg-gray-700 rounded-lg mr-3\" />\r\n        <div className=\"flex-1 space-y-2\">\r\n          <div className=\"h-3 bg-gray-300 dark:bg-gray-700 rounded w-32\" />\r\n          <div className=\"h-2 bg-gray-300 dark:bg-gray-700 rounded w-20\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Post Text */}\r\n      <div className=\"space-y-2 mb-3\">\r\n        <div className=\"h-3 bg-gray-300 dark:bg-gray-700 rounded w-full\" />\r\n        <div className=\"h-3 bg-gray-300 dark:bg-gray-700 rounded w-5/6\" />\r\n      </div>\r\n\r\n      {/* Post Images */}\r\n      <div className=\"grid gap-2 mb-4 grid-cols-2\">\r\n        <div className=\"h-52 bg-gray-300 dark:bg-gray-700 rounded-md\" />\r\n        <div className=\"h-52 bg-gray-300 dark:bg-gray-700 rounded-md\" />\r\n      </div>\r\n\r\n      {/* Actions */}\r\n      <div className=\"flex justify-around border-t border-b border-gray-200 dark:border-gray-700 py-2 mb-3\">\r\n        <div className=\"h-6 w-16 bg-gray-300 dark:bg-gray-700 rounded-md\" />\r\n        <div className=\"h-6 w-16 bg-gray-300 dark:bg-gray-700 rounded-md\" />\r\n        <div className=\"h-6 w-16 bg-gray-300 dark:bg-gray-700 rounded-md\" />\r\n      </div>\r\n\r\n      {/* Liked By */}\r\n      <div className=\"h-3 bg-gray-300 dark:bg-gray-700 rounded w-1/3 mb-3\" />\r\n\r\n      {/* Comments */}\r\n      <div className=\"space-y-2\">\r\n        <div className=\"flex items-start space-x-2\">\r\n          <div className=\"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded-lg\" />\r\n          <div className=\"flex-1 space-y-2\">\r\n            <div className=\"h-3 bg-gray-300 dark:bg-gray-700 rounded w-5/6\" />\r\n            <div className=\"h-2 bg-gray-300 dark:bg-gray-700 rounded w-2/3\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-start space-x-2\">\r\n          <div className=\"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded-lg\" />\r\n          <div className=\"flex-1 space-y-2\">\r\n            <div className=\"h-3 bg-gray-300 dark:bg-gray-700 rounded w-4/6\" />\r\n            <div className=\"h-2 bg-gray-300 dark:bg-gray-700 rounded w-1/2\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCardSkeleton;\r\n"],"names":["c","_c","React","PostCardSkeleton","FC","$","$i","Symbol","for","t0","t1","t2","t3","t4","t5","t6","t7","t8","t9"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2163, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/comments/CommentSkeleton.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n\r\nconst CommentSkeleton: React.FC = () => {\r\n  const { user } = useAuth();\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"text-center py-4 text-gray-500 dark:text-gray-400 text-sm\">\r\n        Please log in to view posts.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex items-start space-x-2 animate-pulse mt-2 ml-0\">\r\n      <div className=\"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded-lg\" />\r\n      <div className=\"flex-1 space-y-2\">\r\n        <div className=\"h-3 bg-gray-300 dark:bg-gray-700 rounded w-3/4\" />\r\n        <div className=\"h-2 bg-gray-300 dark:bg-gray-700 rounded w-1/2\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentSkeleton;\r\n"],"names":["c","_c","React","useAuth","CommentSkeleton","FC","$","$i","Symbol","for","user","t0","t1"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAGb,SAASE,OAAO,QAAQ,uBAAuB;;;AAH/C,YAAY;;;AAKZ,wBAAkCC,CAAA;;IAAA,MAAAE,CAAA,OAAAL,gLAAA,EAAA;IAAA,IAAAK,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAChC,MAAA,EAAAI,IAAAA,EAAA;IAEA,IAAI,CAACA,IAAI,EAAA;QAAA,IAAAC,EAAA;QAAA,IAAAL,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;YAELE,EAAA,iBAAA,6LAAA,GAEM;gBAFS,SAA2D,EAA3D,2DAA2D;0BAAC,4BAE3E,EAFA,GAEM;;;;;;YAAAL,CAAA,CAAA,EAAA,GAAAK,EAAA;QAAA,OAAA;YAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;QAAA;QAAA,OAFNK,EAEM;IAAA;IAET,IAAAA,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAIGE,EAAA,iBAAA,6LAAA,GAAmE;YAApD,SAAiD,EAAjD,iDAAiD,GAAG;;;;;;QAAAL,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAM,EAAA;IAAA,IAAAN,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QADrEG,EAAA,iBAAA,6LAAA,GAMM;YANS,SAAoD,EAApD,oDAAoD,CACjE;;gBAAAD,EAAkE;8BAClE,6LAAA,GAGM;oBAHS,SAAkB,EAAlB,kBAAkB;;sCAC/B,6LAAA,GAAkE;4BAAnD,SAAgD,EAAhD,gDAAgD;;;;;;sCAC/D,6LAAA,GAAkE;4BAAnD,SAAgD,EAAhD,gDAAgD,GACjE,EAHA,GAGM,CACR,EANA,GAMM;;;;;;;;;;;;;;;;;;QAAAL,CAAA,CAAA,EAAA,GAAAM,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAN,CAAA,CAAA,EAAA;IAAA;IAAA,OANNM,EAMM;AAAA,CAET;;;QAnBkBT,qIAAO,CAAC,CAAC;;;KADtBC,eAAe,EAAEF,KAAK,CAACG,EAAE;uCAsBhBD,eAAe","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2272, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/posts/PostCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Heart, MessageCircle, Share2 } from \"lucide-react\";\r\nimport Comment from \"../comments/Comment\";\r\nimport PostCardSkeleton from \"../posts/PostCardSkeleton\";\r\nimport CommentSkeleton from \"../comments/CommentSkeleton\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n\r\ninterface MediaItem {\r\n  id: string;\r\n  url: string;\r\n  type: string;\r\n}\r\n\r\ninterface CommentType {\r\n  id: string;\r\n  author: {\r\n    _id: string;\r\n    name: string;\r\n    avatarUrl: string;\r\n  };\r\n  text: string;\r\n  replies?: CommentType[];\r\n}\r\n\r\ninterface PostData {\r\n  id: string;\r\n  userAvatarUrl: string;\r\n  name: string;\r\n  feeling?: string;\r\n  withUser?: string;\r\n  postDate: string;\r\n  postText: string;\r\n  media: MediaItem[];\r\n  likes: { _id: string; name: string }[];\r\n  comments: CommentType[];\r\n}\r\n\r\ninterface PostCardProps {\r\n  postId: string;\r\n}\r\n\r\nconst PostCard: React.FC<PostCardProps> = ({ postId }) => {\r\n  const { user } = useAuth();\r\n  const [loading, setLoading] = useState(true);\r\n  const [sharing, setSharing] = useState(false);\r\n  const [showComments, setShowComments] = useState(false);\r\n  const [post, setPost] = useState<PostData | null>(null);\r\n\r\n  const postLiked = post?.likes.some((like) => like._id === user?._id) || false;\r\n  const likedNames =\r\n    post?.likes.filter((like) => like._id !== user?._id).map((like) => like.name) || [];\r\n  const totalLikesCount = post?.likes.length || 0;\r\n\r\n  // --- Fetch Post ---\r\n  useEffect(() => {\r\n  const fetchPost = async () => {\r\n    if (!postId || !user?.token) return;\r\n    try {\r\n      setLoading(true);\r\n      const res = await fetch(`/api/posts/${postId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n      });\r\n      if (!res.ok) throw new Error(\"Failed to fetch post\");\r\n      const data = await res.json();\r\n      const postData = data.post || data;\r\n\r\n      setPost({\r\n        id: postData._id,\r\n        userAvatarUrl: postData.author?.avatarUrl || `https://placehold.co/50x50/3498db/ffffff?text=${postData.author?.name?.charAt(0) || \"U\"}`,\r\n        name: postData.author?.name || \"Unknown User\",\r\n        feeling: postData.feeling,\r\n        withUser: postData.withUser,\r\n        postDate: new Date(postData.createdAt).toLocaleString(),\r\n        postText: postData.text,\r\n        media: postData.media?.map((m: any) => ({ id: m._id, url: m.url, type: m.type })) || [],\r\n        likes: postData.likes || [],\r\n        comments: postData.comments?.map((c: any) => ({\r\n          id: c._id,\r\n          author: {\r\n            _id: c.author?._id || \"\",\r\n            name: c.author?.name || \"Unknown\",\r\n            avatarUrl: c.author?.avatarUrl || `https://placehold.co/50x50/3498db/ffffff?text=${c.author?.name?.charAt(0) || \"U\"}`,\r\n          },\r\n          text: c.text,\r\n          replies: c.replies || [],\r\n        })) || [],\r\n      });\r\n    } catch (err) {\r\n      console.error(\"Error fetching post:\", err);\r\n      setPost(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  fetchPost();\r\n}, [postId, user?.token]);\r\n\r\n\r\n  //like button toggle\r\n  const togglePostLike = async () => {\r\n    if (!post || !user?.token) return;\r\n\r\n    const isLiked = postLiked;\r\n\r\n    setPost((prev) => {\r\n      if (!prev) return null;\r\n      const updatedLikes = isLiked\r\n        ? prev.likes.filter((like) => like._id !== user._id)\r\n        : [...prev.likes, { _id: user._id, name: user.name }];\r\n      return { ...prev, likes: updatedLikes };\r\n    });\r\n\r\n    try {\r\n      const res = await fetch(`/api/posts/${postId}/like`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n        body: JSON.stringify({ userId: user._id }),\r\n      });\r\n      if (!res.ok) throw new Error(\"Server failed to process like\");\r\n    } catch (err) {\r\n      console.error(\"Failed to toggle like:\", err);\r\n\r\n      setPost((prev) => {\r\n        if (!prev) return null;\r\n        const updatedLikes = isLiked\r\n          ? [...prev.likes, { _id: user._id, name: user.name }]\r\n          : prev.likes.filter((like) => like._id !== user._id);\r\n        return { ...prev, likes: updatedLikes };\r\n      });\r\n    }\r\n  };\r\n\r\n  if (loading || !post)\r\n    return (\r\n      <div className=\"mb-6\">\r\n        <PostCardSkeleton />\r\n        <CommentSkeleton />\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-[#131313] rounded-lg shadow-lg dark:shadow-2xl p-4 w-full mx-auto border border-gray-200 dark:border-gray-700 mb-6\">\r\n\r\n      <div className=\"flex items-center mb-3\">\r\n        <img\r\n          src={post.userAvatarUrl}\r\n          alt={`${post.name}'s avatar`}\r\n          className=\"w-10 h-10 rounded-lg object-cover mr-3 ring-1 ring-gray-300 dark:ring-gray-600\"\r\n        />\r\n        <div>\r\n          <div className=\"text-gray-900 dark:text-white font-semibold text-sm\">\r\n            {post.name}\r\n            {post.feeling && (\r\n              <span className=\"ml-1 text-gray-700 dark:text-gray-300 font-normal\">\r\n                is feeling {post.feeling} {post.feeling === \"excited\" ? \"🤩\" : \"\"}\r\n              </span>\r\n            )}\r\n            {post.withUser && (\r\n              <span className=\"ml-1 text-gray-700 dark:text-gray-300 font-normal\">\r\n                with <span className=\"font-semibold\">{post.withUser}</span>\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className=\"text-gray-500 dark:text-gray-400 text-xs\">{post.postDate}</div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <p className=\"text-gray-800 dark:text-gray-200 mb-3 text-sm whitespace-pre-wrap\">{post.postText}</p>\r\n\r\n      {post.media.length > 0 && (\r\n        <div className={`grid gap-2 mb-4 ${post.media.length === 1 ? \"grid-cols-1\" : \"grid-cols-2\"}`}>\r\n          {post.media.map((item) => (\r\n            <div key={item.id} className=\"relative w-full h-52\">\r\n              {item.type === \"video\" ? (\r\n                <video controls src={item.url} className=\"w-full h-full object-cover rounded-md\" />\r\n              ) : (\r\n                <img src={item.url} alt={item.type} className=\"w-full h-full object-cover rounded-md\" />\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n\r\n      <div className=\"flex justify-around border-t border-b border-gray-200 dark:border-gray-700 py-2 mb-3\">\r\n        <button\r\n          onClick={togglePostLike}\r\n          className={`flex items-center space-x-2 px-4 py-2 rounded-md transition duration-150 ${\r\n            postLiked\r\n              ? \"text-red-500 hover:text-red-600 dark:hover:text-red-400\"\r\n              : \"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n          }`}\r\n        >\r\n          <Heart className=\"w-5 h-5\" fill={postLiked ? \"currentColor\" : \"none\"} />\r\n          <span className=\"text-sm font-medium\">{postLiked ? \"Liked\" : \"Like\"}</span>\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => setShowComments((prev) => !prev)}\r\n          className=\"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 px-4 py-2 rounded-md transition duration-150\"\r\n        >\r\n          <MessageCircle className=\"w-5 h-5\" />\r\n          <span className=\"text-sm font-medium\">Comment</span>\r\n        </button>\r\n\r\n        <button\r\n          disabled={sharing}\r\n          onClick={async () => {\r\n            setSharing(true);\r\n            const postUrl = window.location.href;\r\n            const shareText = `Check out this post by ${post.name}: ${post.postText}`;\r\n            try {\r\n              if (navigator.share) {\r\n                await navigator.share({ title: `Post by ${post.name}`, text: shareText, url: postUrl });\r\n              } else {\r\n                const tempInput = document.createElement(\"textarea\");\r\n                tempInput.value = `${shareText}\\n${postUrl}`;\r\n                document.body.appendChild(tempInput);\r\n                tempInput.select();\r\n                document.execCommand(\"copy\");\r\n                document.body.removeChild(tempInput);\r\n                alert(\"Post link and text copied to clipboard!\");\r\n              }\r\n            } catch (err) {\r\n              console.log(err);\r\n            }\r\n            setSharing(false);\r\n          }}\r\n          className={`flex items-center space-x-2 px-4 py-2 rounded-md transition duration-150 ${\r\n            sharing ? \"text-gray-400 cursor-not-allowed\" : \"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n          }`}\r\n        >\r\n          <Share2 className=\"w-5 h-5\" />\r\n          <span className=\"text-sm font-medium\">Share</span>\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"flex items-center text-gray-700 dark:text-gray-300 text-xs mb-3\">\r\n        {totalLikesCount > 0 && (\r\n          <>\r\n            <Heart className=\"w-3 h-3 mr-1 text-red-500 fill-current\" />\r\n            <span className=\"font-semibold\">\r\n              {postLiked && `You${likedNames.length > 0 ? \", \" : \"\"}`}\r\n              {likedNames.length > 0 && likedNames.slice(0, 2).join(\", \")}\r\n              {likedNames.length > 2 && ` and ${likedNames.length - 2} others`}\r\n            </span>\r\n            <span className=\"ml-1\"> liked this.</span>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {showComments && (\r\n        <Comment\r\n          currentUserCommentAvatar={\r\n            user?.profilePic ||\r\n            `https://placehold.co/50x50/3498db/ffffff?text=${user?.name?.charAt(0) || \"U\"}`\r\n          }\r\n          postId={postId}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCard;\r\n"],"names":["React","useState","useEffect","Heart","MessageCircle","Share2","Comment","PostCardSkeleton","CommentSkeleton","useAuth","MediaItem","id","url","type","CommentType","author","_id","name","avatarUrl","text","replies","PostData","userAvatarUrl","feeling","withUser","postDate","postText","media","likes","comments","PostCardProps","postId","PostCard","FC","user","loading","setLoading","sharing","setSharing","showComments","setShowComments","post","setPost","postLiked","some","like","likedNames","filter","map","totalLikesCount","length","fetchPost","token","res","fetch","headers","Authorization","ok","Error","data","json","postData","charAt","Date","createdAt","toLocaleString","m","c","err","console","error","togglePostLike","isLiked","prev","updatedLikes","method","body","JSON","stringify","userId","item","postUrl","window","location","href","shareText","navigator","share","title","tempInput","document","createElement","value","appendChild","select","execCommand","removeChild","alert","log","slice","join","profilePic"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2726, "column": 0}, "map": {"version":3,"sources":["C:/Users/anjal/OneDrive/Desktop/DZINR/frontend/components/posts/MiddleContent.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport PostCreator from \"./PostCreator\";\r\nimport PostCard from \"./PostCard\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n\r\ninterface PostFromBackend {\r\n  _id: string;\r\n  author: { name: string; avatarUrl: string };\r\n  feeling?: string;\r\n  withUser?: string;\r\n  createdAt: string;\r\n  text: string;\r\n  media?: { _id: string; url: string; type: \"image\" | \"video\"; alt?: string }[];\r\n  likes?: { _id: string; name: string }[];\r\n  comments?: any[]; \r\n  sharedCount?: number;\r\n}\r\n\r\nconst MiddleContent: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [posts, setPosts] = useState<PostFromBackend[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const res = await fetch(\"/api/posts\", {\r\n          method: \"GET\",\r\n          credentials: \"include\",\r\n        });\r\n        if (!res.ok) throw new Error(\"Failed to fetch posts\");\r\n        const data: PostFromBackend[] = await res.json();\r\n\r\n        setPosts(data);\r\n      } catch (err) {\r\n        console.error(\"Error fetching posts:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"flex-1 h-screen p-4 space-y-4 overflow-y-auto scrollbar-custom mx-64 mr-64\">\r\n      <PostCreator />\r\n\r\n      {loading\r\n        ? Array.from({ length: 3 }).map((_, idx) => (\r\n            <PostCard key={idx} postId=\"\" />\r\n          ))\r\n        : posts.map((post) => (\r\n            <PostCard key={post._id} postId={post._id} />\r\n          ))}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default MiddleContent;\r\n"],"names":["React","useState","useEffect","PostCreator","PostCard","useAuth","PostFromBackend","_id","author","name","avatarUrl","feeling","withUser","createdAt","text","media","url","type","alt","likes","comments","sharedCount","MiddleContent","FC","user","posts","setPosts","loading","setLoading","fetchPosts","res","fetch","method","credentials","ok","Error","data","json","err","console","error","Array","from","length","map","_","idx","post"],"mappings":";;;;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,QAAQ,MAAM,YAAY;AACjC,SAASC,OAAO,QAAQ,uBAAuB;;;AAL/C,YAAY;;;;;AAoBZ,sBAAgCiB,CAAA,KAAM;;IACpC,MAAM,EAAEE,IAAAA,EAAM;IACd,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,OAAGzB,yKAAQ,CAACK,CAAmB,EAAE,CAAC,WAAP,EAAE,CAAC;IACrD,MAAM,CAACqB,OAAO,EAAEC,UAAU,CAAC,OAAG3B,yKAAQ,EAAC,IAAI,CAAC;QAE5CC,0KAAS;mCAAC,MAAM;YACd,MAAM2B,UAAU;sDAAG,MAAAA,CAAA,KAAY;oBAC7B,IAAI;wBACFD,UAAU,CAAC,IAAI,CAAC;wBAChB,MAAME,GAAG,GAAG,MAAMC,KAAK,CAAC,YAAY,EAAE;4BACpCC,MAAM,EAAE,KAAK;4BACbC,WAAW,EAAE;wBACf,CAAC,CAAC;wBACF,IAAI,CAACH,GAAG,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;wBACrD,MAAMC,IAAI,EAAE9B,CAAoB,MAAMwB,GAAG,CAACO,IAAf,AAAmB,CAAC,CAAlB,AAAmB;wBAEhDX,QAAQ,CAACU,IAAI,CAAC;oBAChB,CAAC,CAAC,OAAOE,GAAG,EAAE;wBACZC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEF,GAAG,CAAC;oBAC7C,CAAC,QAAS;wBACRV,UAAU,CAAC,KAAK,CAAC;oBACnB;gBACF,CAAC;;YAEDC,UAAU,CAAC,CAAC;QACd,CAAC;kCAAE,EAAE,CAAC;IAEN,qBACE,6LAAC,IAAI;QAAC,SAAS,EAAC,4EAA4E,CAAC;;0BAC3F,6LAAC,iJAAW,GAAG;;;;;YAEdF,OAAO,GACJc,KAAK,CAACC,IAAI,CAAC;gBAAEC,MAAM,EAAE;YAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,CAAC,EAAEC,GAAG,iBACnC,6LAAC,8IAAQ,CAAC,GAAG,CAAC;oBAAM,MAAM,EAAC,EAAE,GAC9B,CAAC;mBADeA,GAAG,CAAC;;;;gEAErBrB,KAAK,CAACmB,GAAG,EAAEG,IAAI,iBACb,6LAAC,8IAAQ,CAAC,GAAG,CAAC;oBAAW,MAAM,CAAC,CAACA,IAAI,CAACxC,GAAG,CAAC,GAC3C,CAAC,CAAC;mBADcwC,IAAI,CAACxC,GAAG,CAAC;;;;;;;;;;;AAIpC,CAAC;;;QAvCkBF,qIAAO,CAAC,CAAC;;;KADtBiB,aAAa,EAAEtB,KAAK,CAACuB,EAAE;uCA0CdD,aAAa","ignoreList":[],"debugId":null}}]
}